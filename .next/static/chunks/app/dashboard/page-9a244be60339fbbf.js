(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2982:function(e,s,t){Promise.resolve().then(t.bind(t,8229))},8229:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return S}});var a=t(7437),r=t(2265),l=t(9376),n=t(3287),i=t(8997),c=t(2718),d=t(2369),o=t(9763);let x=(0,o.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,o.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var h=t(6595);let u=(0,o.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var g=t(1047);function p(e){let{user:s}=e,[t,l]=(0,r.useState)(0);return(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-lg overflow-hidden card-hover",children:[(0,a.jsxs)("div",{className:"relative h-96 bg-gradient-to-br from-red-100 to-pink-100",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"}),s.photos.length>1&&(0,a.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-20",children:(0,a.jsx)("div",{className:"flex space-x-2",children:s.photos.map((e,s)=>(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s===t?"bg-white":"bg-white/50")},s))})}),s.photos.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{l(e=>0===e?s.photos.length-1:e-1)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors",children:"‹"}),(0,a.jsx)("button",{onClick:()=>{l(e=>e===s.photos.length-1?0:e+1)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors",children:"›"})]}),(0,a.jsx)("div",{className:"absolute top-4 right-4 z-20",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full ".concat(s.isOnline?"bg-green-500 text-white":"bg-gray-500 text-white"),children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.isOnline?"bg-white":"bg-gray-300")}),(0,a.jsx)("span",{className:"text-sm font-medium",children:s.isOnline?"在线":"离线"})]})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6 z-10",children:(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-white mb-1",children:[s.name,", ",s.age]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-white/90 mb-2",children:[(0,a.jsx)(u,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:s.location})]})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("button",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors",children:(0,a.jsx)(i.Z,{className:"h-5 w-5"})})})]})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-700 mb-4 leading-relaxed",children:s.bio}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"兴趣爱好"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.interests.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded-full",children:e},s))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[s.age,"岁"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:s.location})]})]})]})]})}let j=(0,o.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f=(0,o.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),b=(0,o.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),y=(0,o.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function N(e){let{matchedUsers:s,onClose:t}=e,[l,n]=(0,r.useState)(null),[i,c]=(0,r.useState)([]),[d,o]=(0,r.useState)(""),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{l&&c([{id:"1",senderId:l.id,receiverId:"current-user",content:"你好！很高兴认识你 \uD83D\uDE0A",timestamp:new Date(Date.now()-36e5),type:"text"},{id:"2",senderId:"current-user",receiverId:l.id,content:"你好！我也很高兴认识你",timestamp:new Date(Date.now()-35e5),type:"text"},{id:"3",senderId:l.id,receiverId:"current-user",content:"看到你的资料，我们有很多共同的兴趣爱好呢",timestamp:new Date(Date.now()-3e6),type:"text"}])},[l]),(0,r.useEffect)(()=>{var e;null===(e=x.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[i]);let m=()=>{if(d.trim()&&l){let e={id:Date.now().toString(),senderId:"current-user",receiverId:l.id,content:d.trim(),timestamp:new Date,type:"text"};c(s=>[...s,e]),o(""),setTimeout(()=>{let e={id:(Date.now()+1).toString(),senderId:l.id,receiverId:"current-user",content:"收到你的消息了！我正在回复...",timestamp:new Date,type:"text"};c(s=>[...s,e])},2e3)}},h=e=>e.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"聊天"}),(0,a.jsx)("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,a.jsx)(j,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,a.jsx)("div",{className:"w-80 border-r bg-gray-50",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"匹配的用户"}),(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)("div",{onClick:()=>n(e),className:"p-3 rounded-lg cursor-pointer transition-colors ".concat((null==l?void 0:l.id)===e.id?"bg-red-100 border-red-200":"bg-white hover:bg-gray-100"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-red-600 font-medium",children:e.name.charAt(0)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.age,"岁 \xb7 ",e.location]})]}),e.isOnline&&(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]})},e.id))})]})}),(0,a.jsx)("div",{className:"flex-1 flex flex-col",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 border-b bg-white",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-red-600 font-medium",children:l.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:l.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:l.isOnline?"在线":"离线"})]})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(e=>(0,a.jsx)("div",{className:"flex ".concat("current-user"===e.senderId?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ".concat("current-user"===e.senderId?"bg-red-500 text-white":"bg-gray-200 text-gray-900"),children:[(0,a.jsx)("p",{className:"text-sm",children:e.content}),(0,a.jsx)("p",{className:"text-xs mt-1 ".concat("current-user"===e.senderId?"text-red-100":"text-gray-500"),children:h(e.timestamp)})]})},e.id)),(0,a.jsx)("div",{ref:x})]}),(0,a.jsx)("div",{className:"p-4 border-t bg-white",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,a.jsx)(f,{className:"h-5 w-5"})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"输入消息...",className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),(0,a.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,a.jsx)(b,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:m,disabled:!d.trim(),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(y,{className:"h-5 w-5"})})]})})]}):(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-gray-500 text-2xl",children:"\uD83D\uDCAC"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"选择聊天对象"}),(0,a.jsx)("p",{className:"text-gray-500",children:"从左侧选择一个匹配的用户开始聊天"})]})})})]})]})})}let v=(0,o.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),w=(0,o.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),k=(0,o.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);function C(e){let{onClose:s}=e,[t,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)({name:"张三",age:26,location:"北京",bio:"热爱生活，喜欢旅行和摄影，寻找有趣的灵魂。",interests:["旅行","摄影","音乐","美食","健身"],photos:["/api/placeholder/200/200"]}),[c,d]=(0,r.useState)(n),o=e=>{e.trim()&&!c.interests.includes(e.trim())&&d(s=>({...s,interests:[...s.interests,e.trim()]}))},x=e=>{d(s=>({...s,interests:s.interests.filter((s,t)=>t!==e)}))};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"个人资料"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>{i(c),l(!1)},className:"flex items-center space-x-1 px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[(0,a.jsx)(v,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"保存"})]}),(0,a.jsx)("button",{onClick:()=>{d(n),l(!1)},className:"px-3 py-1 text-gray-600 hover:text-gray-800 transition-colors",children:"取消"})]}):(0,a.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center space-x-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,a.jsx)(w,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"编辑"})]}),(0,a.jsx)("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,a.jsx)(j,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-red-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-4xl font-bold text-red-500",children:n.name.charAt(0)})}),t&&(0,a.jsx)("button",{className:"absolute bottom-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:(0,a.jsx)(k,{className:"h-4 w-4"})})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:"基本信息"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"姓名"}),t?(0,a.jsx)("input",{type:"text",value:c.name,onChange:e=>d(s=>({...s,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"}):(0,a.jsx)("p",{className:"text-gray-900",children:n.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"年龄"}),t?(0,a.jsx)("input",{type:"number",value:c.age,onChange:e=>d(s=>({...s,age:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"}):(0,a.jsxs)("p",{className:"text-gray-900",children:[n.age,"岁"]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"所在地"}),t?(0,a.jsx)("input",{type:"text",value:c.location,onChange:e=>d(s=>({...s,location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"}):(0,a.jsx)("p",{className:"text-gray-900",children:n.location})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"个人简介"}),t?(0,a.jsx)("textarea",{value:c.bio,onChange:e=>d(s=>({...s,bio:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",placeholder:"介绍一下你自己..."}):(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed",children:n.bio})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"兴趣爱好"}),t?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:c.interests.map((e,s)=>(0,a.jsxs)("span",{className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 text-sm rounded-full",children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("button",{onClick:()=>x(s),className:"text-red-500 hover:text-red-700",children:"\xd7"})]},s))}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"添加兴趣...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",onKeyPress:e=>{"Enter"===e.key&&(o(e.currentTarget.value),e.currentTarget.value="")}}),(0,a.jsx)("button",{onClick:e=>{let s=e.currentTarget.previousElementSibling;o(s.value),s.value=""},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"添加"})]})]}):(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:n.interests.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-red-100 text-red-700 text-sm rounded-full",children:e},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"隐私设置"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"个人资料可见性"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"控制谁可以看到你的个人资料"})]}),(0,a.jsxs)("select",{className:"px-3 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[(0,a.jsx)("option",{children:"所有人"}),(0,a.jsx)("option",{children:"仅匹配用户"}),(0,a.jsx)("option",{children:"仅好友"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"在线状态"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"显示你的在线状态"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"})]})]})]})]})]})]})})}function S(){let[e,s]=(0,r.useState)(null),[t,o]=(0,r.useState)([]),[u,g]=(0,r.useState)(0),[j,f]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)([]),[k,S]=(0,r.useState)(!0),Z=(0,l.useRouter)();return((0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t){Z.push("/");return}try{let e=JSON.parse(t);s(e)}catch(e){localStorage.removeItem("token"),localStorage.removeItem("user"),Z.push("/");return}S(!1)},[Z]),(0,r.useEffect)(()=>{k||o([{id:"1",name:"小雨",age:25,location:"北京",bio:"喜欢旅行和摄影，寻找有趣的灵魂",interests:["旅行","摄影","音乐","美食"],photos:["/api/placeholder/400/600"],isOnline:!0},{id:"2",name:"小明",age:28,location:"上海",bio:"程序员一枚，热爱技术，也喜欢户外运动",interests:["编程","健身","电影","咖啡"],photos:["/api/placeholder/400/600"],isOnline:!1},{id:"3",name:"小红",age:23,location:"深圳",bio:"设计师，喜欢艺术和创意，寻找志同道合的人",interests:["设计","艺术","阅读","瑜伽"],photos:["/api/placeholder/400/600"],isOnline:!0}])},[]),k)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"加载中..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"h-8 w-8 text-red-500"}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"社交俱乐部"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>f(!j),className:"relative p-2 text-gray-600 hover:text-red-500 transition-colors",children:[(0,a.jsx)(c.Z,{className:"h-6 w-6"}),v.length>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v.length})]}),(0,a.jsx)("button",{onClick:()=>y(!0),className:"p-2 text-gray-600 hover:text-red-500 transition-colors",children:(0,a.jsx)(d.Z,{className:"h-6 w-6"})}),(0,a.jsx)("button",{className:"p-2 text-gray-600 hover:text-red-500 transition-colors",children:(0,a.jsx)(x,{className:"h-6 w-6"})}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),Z.push("/")},className:"p-2 text-gray-600 hover:text-red-500 transition-colors",children:(0,a.jsx)(m,{className:"h-6 w-6"})})]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"发现新朋友"}),u<t.length?(0,a.jsx)(n.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:(0,a.jsx)(p,{user:t[u]})},t[u].id):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"暂时没有更多推荐"}),(0,a.jsx)("p",{className:"text-gray-500",children:"稍后再来看看吧，或者调整你的偏好设置"})]}),u<t.length&&(0,a.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,a.jsx)("button",{onClick:()=>{g(e=>e+1)},className:"p-4 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors",children:(0,a.jsx)("span",{className:"text-2xl",children:"✕"})}),(0,a.jsx)("button",{onClick:()=>{let e=t[u];e&&(w(s=>[...s,e]),alert("超级喜欢！你和".concat(e.name,"匹配成功了！"))),g(e=>e+1)},className:"p-4 bg-blue-100 hover:bg-blue-200 rounded-full transition-colors",children:(0,a.jsx)(h.Z,{className:"h-6 w-6 text-blue-500"})}),(0,a.jsx)("button",{onClick:()=>{let e=t[u];e&&(w(s=>[...s,e]),Math.random()>.5&&alert("恭喜！你和".concat(e.name,"匹配成功了！"))),g(e=>e+1)},className:"p-4 bg-red-100 hover:bg-red-200 rounded-full transition-colors",children:(0,a.jsx)(i.Z,{className:"h-6 w-6 text-red-500"})})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"我的匹配"}),v.length>0?(0,a.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>f(!0),children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-red-200 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"h-6 w-6 text-red-500"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.age,"岁 \xb7 ",e.location]})]}),e.isOnline&&(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(i.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-500",children:"还没有匹配，继续探索吧！"})]})]})})]})}),j&&(0,a.jsx)(N,{matchedUsers:v,onClose:()=>f(!1)}),b&&(0,a.jsx)(C,{onClose:()=>y(!1)})]})}}},function(e){e.O(0,[699,971,117,744],function(){return e(e.s=2982)}),_N_E=e.O()}]);
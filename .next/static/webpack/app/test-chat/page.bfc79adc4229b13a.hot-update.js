"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/test-chat/page",{

/***/ "(app-pages-browser)/./app/test-chat/page.tsx":
/*!********************************!*\
  !*** ./app/test-chat/page.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TestChat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction TestChat() {\n    _s();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [matchedUsers, setMatchedUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedUser, setSelectedUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [testMessage, setTestMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"测试消息 - \" + new Date().toLocaleTimeString());\n    const [chatHistory, setChatHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const addResult = (type, message)=>{\n        setResults((prev)=>[\n                ...prev,\n                {\n                    type,\n                    message,\n                    timestamp: new Date()\n                }\n            ]);\n    };\n    // 获取已匹配用户\n    const getMatchedUsers = async ()=>{\n        try {\n            const token = localStorage.getItem(\"token\");\n            if (!token) {\n                addResult(\"error\", \"请先登录\");\n                return;\n            }\n            addResult(\"info\", \"获取已匹配用户...\");\n            const response = await fetch(\"/api/user/matched-users\", {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token)\n                }\n            });\n            if (response.ok) {\n                const data = await response.json();\n                if (data.success) {\n                    var _data_matchedUsers;\n                    setMatchedUsers(data.matchedUsers || []);\n                    addResult(\"success\", \"找到 \".concat(((_data_matchedUsers = data.matchedUsers) === null || _data_matchedUsers === void 0 ? void 0 : _data_matchedUsers.length) || 0, \" 个已匹配用户\"));\n                    if (data.matchedUsers && data.matchedUsers.length > 0) {\n                        data.matchedUsers.forEach((user)=>{\n                            addResult(\"info\", \"- \".concat(user.name, \" (ID: \").concat(user.id, \")\"));\n                        });\n                    }\n                } else {\n                    addResult(\"error\", \"获取已匹配用户失败: \" + data.error);\n                }\n            } else {\n                addResult(\"error\", \"获取已匹配用户请求失败\");\n            }\n        } catch (error) {\n            addResult(\"error\", \"获取已匹配用户异常: \" + error);\n        }\n    };\n    // 发送测试消息\n    const sendTestMessage = async ()=>{\n        if (!selectedUser) {\n            addResult(\"error\", \"请先选择聊天对象\");\n            return;\n        }\n        try {\n            const token = localStorage.getItem(\"token\");\n            addResult(\"info\", \"向 \".concat(selectedUser.name, ' 发送消息: \"').concat(testMessage, '\"'));\n            const response = await fetch(\"/api/messages/send\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                },\n                body: JSON.stringify({\n                    receiverId: parseInt(selectedUser.id),\n                    message: testMessage,\n                    messageType: \"text\"\n                })\n            });\n            if (response.ok) {\n                const data = await response.json();\n                if (data.success) {\n                    addResult(\"success\", \"✅ 消息发送成功!\");\n                    addResult(\"info\", \"消息ID: \".concat(data.data.id));\n                    // 立即获取聊天记录\n                    await getChatHistory();\n                } else {\n                    addResult(\"error\", \"❌ 消息发送失败: \" + data.error);\n                }\n            } else {\n                const errorText = await response.text();\n                addResult(\"error\", \"❌ 消息发送请求失败: \" + errorText);\n            }\n        } catch (error) {\n            addResult(\"error\", \"❌ 发送消息异常: \" + error);\n        }\n    };\n    // 获取聊天记录\n    const getChatHistory = async ()=>{\n        if (!selectedUser) {\n            addResult(\"error\", \"请先选择聊天对象\");\n            return;\n        }\n        try {\n            const token = localStorage.getItem(\"token\");\n            addResult(\"info\", \"获取与 \".concat(selectedUser.name, \" 的聊天记录...\"));\n            const response = await fetch(\"/api/messages/conversation?userId=\".concat(selectedUser.id), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token)\n                }\n            });\n            if (response.ok) {\n                const data = await response.json();\n                if (data.success) {\n                    var _data_messages;\n                    setChatHistory(data.messages || []);\n                    addResult(\"success\", \"✅ 获取到 \".concat(((_data_messages = data.messages) === null || _data_messages === void 0 ? void 0 : _data_messages.length) || 0, \" 条聊天记录\"));\n                    if (data.messages && data.messages.length > 0) {\n                        addResult(\"info\", \"最近的聊天记录:\");\n                        data.messages.slice(-3).forEach((msg)=>{\n                            var _JSON_parse_id;\n                            const time = new Date(msg.timestamp).toLocaleTimeString();\n                            addResult(\"info\", \"  [\".concat(time, \"] \").concat(msg.senderId === localStorage.getItem(\"user\") && ((_JSON_parse_id = JSON.parse(localStorage.getItem(\"user\") || \"{}\").id) === null || _JSON_parse_id === void 0 ? void 0 : _JSON_parse_id.toString()) === msg.senderId ? \"我\" : selectedUser.name, \": \").concat(msg.content));\n                        });\n                    }\n                } else {\n                    addResult(\"error\", \"❌ 获取聊天记录失败: \" + data.error);\n                }\n            } else {\n                const errorText = await response.text();\n                addResult(\"error\", \"❌ 获取聊天记录请求失败: \" + errorText);\n            }\n        } catch (error) {\n            addResult(\"error\", \"❌ 获取聊天记录异常: \" + error);\n        }\n    };\n    // 完整测试流程\n    const runFullTest = async ()=>{\n        setLoading(true);\n        setResults([]);\n        setChatHistory([]);\n        try {\n            const user = localStorage.getItem(\"user\");\n            if (!user) {\n                addResult(\"error\", \"请先登录\");\n                return;\n            }\n            const userData = JSON.parse(user);\n            addResult(\"info\", \"开始聊天功能测试 - 当前用户: \".concat(userData.name));\n            // 步骤1: 获取已匹配用户\n            await getMatchedUsers();\n            // 等待用户选择聊天对象（如果没有匹配用户，先创建）\n            if (matchedUsers.length === 0) {\n                addResult(\"info\", \"没有已匹配用户，尝试创建测试匹配...\");\n                // 创建测试匹配\n                const token = localStorage.getItem(\"token\");\n                const testResponse = await fetch(\"/api/admin/test-pending-flow\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": \"Bearer \".concat(token)\n                    },\n                    body: JSON.stringify({\n                        action: \"create_pending\"\n                    })\n                });\n                if (testResponse.ok) {\n                    const testData = await testResponse.json();\n                    if (testData.success) {\n                        addResult(\"success\", \"✅ 创建了测试匹配，请接受后再测试聊天\");\n                        addResult(\"info\", \"请：1. 刷新页面 2. 点击紫色按钮接受匹配 3. 返回此页面测试聊天\");\n                    }\n                }\n            }\n        } catch (error) {\n            addResult(\"error\", \"测试过程出错: \" + error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 页面加载时获取已匹配用户\n        getMatchedUsers();\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-100 p-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-3xl font-bold text-gray-900 mb-8\",\n                    children: \"聊天功能测试\"\n                }, void 0, false, {\n                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                    lineNumber: 195,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white rounded-lg shadow p-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-xl font-semibold mb-4\",\n                                            children: \"测试控制\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                            lineNumber: 201,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: runFullTest,\n                                                    disabled: loading,\n                                                    className: \"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\",\n                                                    children: loading ? \"测试中...\" : \"\\uD83D\\uDD2C 开始完整测试\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                    lineNumber: 204,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: getMatchedUsers,\n                                                    className: \"w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\",\n                                                    children: \"\\uD83D\\uDCCB 刷新已匹配用户\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                    lineNumber: 212,\n                                                    columnNumber: 17\n                                                }, this),\n                                                matchedUsers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                                            children: \"选择聊天对象:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 221,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            value: (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.id) || \"\",\n                                                            onChange: (e)=>{\n                                                                const user = matchedUsers.find((u)=>u.id === e.target.value);\n                                                                setSelectedUser(user);\n                                                            },\n                                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: \"\",\n                                                                    children: \"请选择...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                                    lineNumber: 232,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                matchedUsers.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: user.id,\n                                                                        children: [\n                                                                            user.name,\n                                                                            \" (ID: \",\n                                                                            user.id,\n                                                                            \")\"\n                                                                        ]\n                                                                    }, user.id, true, {\n                                                                        fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                                        lineNumber: 234,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 224,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                    lineNumber: 220,\n                                                    columnNumber: 19\n                                                }, this),\n                                                selectedUser && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                                                    children: \"测试消息:\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                                    lineNumber: 245,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"text\",\n                                                                    value: testMessage,\n                                                                    onChange: (e)=>setTestMessage(e.target.value),\n                                                                    className: \"w-full px-3 py-2 border border-gray-300 rounded-lg\",\n                                                                    placeholder: \"输入测试消息...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                                    lineNumber: 248,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 244,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: sendTestMessage,\n                                                            className: \"w-full px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600\",\n                                                            children: \"\\uD83D\\uDCAC 发送测试消息\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 257,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: getChatHistory,\n                                                            className: \"w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\",\n                                                            children: \"\\uD83D\\uDCE5 获取聊天记录\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 264,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                addResult(\"info\", \"\\uD83E\\uDDEA 开始消息持久性测试...\");\n                                                                // 发送消息后立即检查是否保存\n                                                                sendTestMessage().then(()=>{\n                                                                    setTimeout(()=>{\n                                                                        getChatHistory();\n                                                                        addResult(\"info\", \"✅ 消息持久性测试完成，请检查聊天记录\");\n                                                                    }, 2000);\n                                                                });\n                                                            },\n                                                            className: \"w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\",\n                                                            children: \"\\uD83E\\uDDEA 测试消息持久性\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 271,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: async ()=>{\n                                                                if (!selectedUser) {\n                                                                    addResult(\"error\", \"请先选择聊天对象\");\n                                                                    return;\n                                                                }\n                                                                setLoading(true);\n                                                                addResult(\"info\", \"\\uD83D\\uDE80 开始完整端到端测试...\");\n                                                                try {\n                                                                    const token = localStorage.getItem(\"token\");\n                                                                    const testMsg = \"测试消息 - \".concat(new Date().toLocaleTimeString());\n                                                                    // 步骤1: 发送消息\n                                                                    addResult(\"info\", '\\uD83D\\uDCE4 步骤1: 发送测试消息 \"'.concat(testMsg, '\"'));\n                                                                    const sendResponse = await fetch(\"/api/messages/send\", {\n                                                                        method: \"POST\",\n                                                                        headers: {\n                                                                            \"Content-Type\": \"application/json\",\n                                                                            \"Authorization\": \"Bearer \".concat(token)\n                                                                        },\n                                                                        body: JSON.stringify({\n                                                                            receiverId: parseInt(selectedUser.id),\n                                                                            message: testMsg,\n                                                                            messageType: \"text\"\n                                                                        })\n                                                                    });\n                                                                    if (!sendResponse.ok) {\n                                                                        addResult(\"error\", \"❌ 步骤1失败: 发送消息失败\");\n                                                                        return;\n                                                                    }\n                                                                    const sendData = await sendResponse.json();\n                                                                    if (!sendData.success) {\n                                                                        addResult(\"error\", \"❌ 步骤1失败: \".concat(sendData.error));\n                                                                        return;\n                                                                    }\n                                                                    addResult(\"success\", \"✅ 步骤1成功: 消息已发送，ID: \".concat(sendData.data.id));\n                                                                    // 步骤2: 等待一秒确保数据库写入\n                                                                    addResult(\"info\", \"⏳ 步骤2: 等待数据库写入...\");\n                                                                    await new Promise((resolve)=>setTimeout(resolve, 1000));\n                                                                    // 步骤3: 获取聊天记录\n                                                                    addResult(\"info\", \"\\uD83D\\uDCE5 步骤3: 获取聊天记录验证保存\");\n                                                                    const getResponse = await fetch(\"/api/messages/conversation?userId=\".concat(selectedUser.id), {\n                                                                        headers: {\n                                                                            \"Authorization\": \"Bearer \".concat(token)\n                                                                        }\n                                                                    });\n                                                                    if (!getResponse.ok) {\n                                                                        addResult(\"error\", \"❌ 步骤3失败: 获取聊天记录失败\");\n                                                                        return;\n                                                                    }\n                                                                    const getData = await getResponse.json();\n                                                                    if (!getData.success) {\n                                                                        addResult(\"error\", \"❌ 步骤3失败: \".concat(getData.error));\n                                                                        return;\n                                                                    }\n                                                                    // 步骤4: 验证消息是否在聊天记录中\n                                                                    addResult(\"info\", \"\\uD83D\\uDCCB 步骤4: 验证消息 - 获取到 \".concat(getData.messages.length, \" 条消息\"));\n                                                                    const foundMessage = getData.messages.find((msg)=>msg.content === testMsg && msg.id.toString() === sendData.data.id.toString());\n                                                                    if (foundMessage) {\n                                                                        addResult(\"success\", \"\\uD83C\\uDF89 测试成功! 消息已正确保存和加载\");\n                                                                        addResult(\"info\", \"✅ 验证详情: ID \".concat(foundMessage.id, ', 内容 \"').concat(foundMessage.content, '\"'));\n                                                                    } else {\n                                                                        addResult(\"error\", \"❌ 测试失败! 发送的消息未在聊天记录中找到\");\n                                                                        addResult(\"info\", \"\\uD83D\\uDD0D 查找的消息: ID \".concat(sendData.data.id, ', 内容 \"').concat(testMsg, '\"'));\n                                                                        addResult(\"info\", \"\\uD83D\\uDCCB 现有消息:\");\n                                                                        getData.messages.forEach((msg)=>{\n                                                                            addResult(\"info\", \"  - ID \".concat(msg.id, ': \"').concat(msg.content, '\"'));\n                                                                        });\n                                                                    }\n                                                                } catch (error) {\n                                                                    addResult(\"error\", \"❌ 端到端测试异常: \" + error);\n                                                                } finally{\n                                                                    setLoading(false);\n                                                                }\n                                                            },\n                                                            disabled: loading,\n                                                            className: \"w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50\",\n                                                            children: loading ? \"测试中...\" : \"\\uD83D\\uDE80 完整端到端测试\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 287,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: async ()=>{\n                                                                if (!selectedUser) {\n                                                                    addResult(\"error\", \"请先选择聊天对象\");\n                                                                    return;\n                                                                }\n                                                                try {\n                                                                    const token = localStorage.getItem(\"token\");\n                                                                    addResult(\"info\", \"\\uD83D\\uDD0D 调试与 \".concat(selectedUser.name, \" 的消息查询...\"));\n                                                                    const response = await fetch(\"/api/debug/messages?userId=\".concat(selectedUser.id), {\n                                                                        headers: {\n                                                                            \"Authorization\": \"Bearer \".concat(token)\n                                                                        }\n                                                                    });\n                                                                    if (response.ok) {\n                                                                        const data = await response.json();\n                                                                        if (data.success) {\n                                                                            addResult(\"success\", \"✅ 调试查询完成\");\n                                                                            addResult(\"info\", \"\\uD83D\\uDCCB 用户相关消息总数: \".concat(data.debug.totalAllMessages));\n                                                                            addResult(\"info\", \"\\uD83D\\uDCAC 对话消息总数: \".concat(data.debug.totalConversationMessages));\n                                                                            addResult(\"info\", \"\\uD83D\\uDD52 最近消息: \".concat(data.debug.recentMessages.length, \" 条\"));\n                                                                            // 显示最近的几条消息\n                                                                            data.debug.recentMessages.slice(0, 3).forEach((msg)=>{\n                                                                                const time = new Date(msg.created_at).toLocaleTimeString();\n                                                                                addResult(\"info\", \"  [\".concat(time, \"] ID:\").concat(msg.id, \" \").concat(msg.sender_id, \"→\").concat(msg.receiver_id, \": \").concat(msg.message));\n                                                                            });\n                                                                        } else {\n                                                                            addResult(\"error\", \"调试查询失败: \" + data.error);\n                                                                        }\n                                                                    } else {\n                                                                        addResult(\"error\", \"调试查询请求失败\");\n                                                                    }\n                                                                } catch (error) {\n                                                                    addResult(\"error\", \"调试查询异常: \" + error);\n                                                                }\n                                                            },\n                                                            className: \"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600\",\n                                                            children: \"\\uD83D\\uDD0D 调试消息查询\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 380,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                    lineNumber: 243,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                            lineNumber: 203,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 200,\n                                    columnNumber: 13\n                                }, this),\n                                chatHistory.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white rounded-lg shadow p-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-lg font-semibold mb-4\",\n                                            children: \"聊天记录预览\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                            lineNumber: 430,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2 max-h-60 overflow-y-auto\",\n                                            children: chatHistory.map((msg, index)=>{\n                                                var _JSON_parse_id;\n                                                const isMe = msg.senderId === ((_JSON_parse_id = JSON.parse(localStorage.getItem(\"user\") || \"{}\").id) === null || _JSON_parse_id === void 0 ? void 0 : _JSON_parse_id.toString());\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-2 rounded-lg \".concat(isMe ? \"bg-blue-100 text-blue-900 ml-8\" : \"bg-gray-100 text-gray-900 mr-8\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-500 mb-1\",\n                                                            children: [\n                                                                isMe ? \"我\" : selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.name,\n                                                                \" • \",\n                                                                new Date(msg.timestamp).toLocaleTimeString()\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 443,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm\",\n                                                            children: msg.content\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                            lineNumber: 446,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                    lineNumber: 435,\n                                                    columnNumber: 23\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                            lineNumber: 431,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 429,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                            lineNumber: 199,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-lg shadow p-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold mb-4\",\n                                    children: \"测试结果\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 457,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2 max-h-96 overflow-y-auto\",\n                                    children: results.map((result, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-3 rounded-lg border-l-4 text-sm \".concat(result.type === \"success\" ? \"bg-green-50 border-green-400 text-green-800\" : result.type === \"error\" ? \"bg-red-50 border-red-400 text-red-800\" : \"bg-blue-50 border-blue-400 text-blue-800\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-mono text-xs text-gray-500 mb-1\",\n                                                    children: result.timestamp.toLocaleTimeString()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                    lineNumber: 470,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                    className: \"whitespace-pre-wrap font-mono\",\n                                                    children: result.message\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                                    lineNumber: 473,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, index, true, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                            lineNumber: 460,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 458,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                            lineNumber: 456,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                    lineNumber: 197,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"font-semibold text-yellow-800 mb-2\",\n                            children: \"\\uD83D\\uDCCB 测试说明：\"\n                        }, void 0, false, {\n                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                            lineNumber: 483,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                            className: \"text-sm text-yellow-700 space-y-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"1. 确保已登录并有已匹配的用户\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 485,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"2. 如果没有匹配用户，会自动创建测试匹配\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 486,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"3. 选择聊天对象后发送测试消息\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 487,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"4. 查看聊天记录验证消息是否保存\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 488,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"5. 刷新页面再次获取记录，验证持久性\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 489,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                            lineNumber: 484,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                    lineNumber: 482,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-4 bg-red-50 border border-red-200 rounded-lg p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"font-semibold text-red-800 mb-2\",\n                            children: \"\\uD83D\\uDD0D 调试提示：\"\n                        }, void 0, false, {\n                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                            lineNumber: 494,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            className: \"text-sm text-red-700 space-y-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"• 打开浏览器开发者工具查看详细的API日志\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 496,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"• 如果消息发送失败，检查控制台错误信息\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 497,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: \"• 如果聊天记录为空，可能是匹配关系或权限问题\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                                    lineNumber: 498,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                            lineNumber: 495,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n                    lineNumber: 493,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n            lineNumber: 194,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/vincent/Desktop/social club web/app/test-chat/page.tsx\",\n        lineNumber: 193,\n        columnNumber: 5\n    }, this);\n}\n_s(TestChat, \"EyMew+Y+TT+W9LwQFBcP+SJT0c8=\");\n_c = TestChat;\nvar _c;\n$RefreshReg$(_c, \"TestChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC90ZXN0LWNoYXQvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTJDO0FBRTVCLFNBQVNFOztJQUN0QixNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR0osK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDSyxTQUFTQyxXQUFXLEdBQUdOLCtDQUFRQSxDQUFRLEVBQUU7SUFDaEQsTUFBTSxDQUFDTyxjQUFjQyxnQkFBZ0IsR0FBR1IsK0NBQVFBLENBQVEsRUFBRTtJQUMxRCxNQUFNLENBQUNTLGNBQWNDLGdCQUFnQixHQUFHViwrQ0FBUUEsQ0FBTTtJQUN0RCxNQUFNLENBQUNXLGFBQWFDLGVBQWUsR0FBR1osK0NBQVFBLENBQUMsWUFBWSxJQUFJYSxPQUFPQyxrQkFBa0I7SUFDeEYsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdoQiwrQ0FBUUEsQ0FBUSxFQUFFO0lBRXhELE1BQU1pQixZQUFZLENBQUNDLE1BQW9DQztRQUNyRGIsV0FBV2MsQ0FBQUEsT0FBUTttQkFBSUE7Z0JBQU07b0JBQUVGO29CQUFNQztvQkFBU0UsV0FBVyxJQUFJUjtnQkFBTzthQUFFO0lBQ3hFO0lBRUEsVUFBVTtJQUNWLE1BQU1TLGtCQUFrQjtRQUN0QixJQUFJO1lBQ0YsTUFBTUMsUUFBUUMsYUFBYUMsT0FBTyxDQUFDO1lBQ25DLElBQUksQ0FBQ0YsT0FBTztnQkFDVk4sVUFBVSxTQUFTO2dCQUNuQjtZQUNGO1lBRUFBLFVBQVUsUUFBUTtZQUVsQixNQUFNUyxXQUFXLE1BQU1DLE1BQU0sMkJBQTJCO2dCQUN0REMsU0FBUztvQkFBRSxpQkFBaUIsVUFBZ0IsT0FBTkw7Z0JBQVE7WUFDaEQ7WUFFQSxJQUFJRyxTQUFTRyxFQUFFLEVBQUU7Z0JBQ2YsTUFBTUMsT0FBTyxNQUFNSixTQUFTSyxJQUFJO2dCQUNoQyxJQUFJRCxLQUFLRSxPQUFPLEVBQUU7d0JBRVdGO29CQUQzQnRCLGdCQUFnQnNCLEtBQUt2QixZQUFZLElBQUks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T1IsOERBQUNyQzs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNtQztvQ0FBR25DLFdBQVU7OENBQTZCOzs7Ozs7OENBQzNDLDhEQUFDRDtvQ0FBSUMsV0FBVTs4Q0FDWjNELFFBQVEwRSxHQUFHLENBQUMsQ0FBQ3VCLFFBQVFGLHNCQUNwQiw4REFBQ3JDOzRDQUVDQyxXQUFXLHFDQU1WLE9BTENzQyxPQUFPcEYsSUFBSSxLQUFLLFlBQ1osZ0RBQ0FvRixPQUFPcEYsSUFBSSxLQUFLLFVBQ2hCLDBDQUNBOzs4REFHTiw4REFBQzZDO29EQUFJQyxXQUFVOzhEQUNac0MsT0FBT2pGLFNBQVMsQ0FBQ1Asa0JBQWtCOzs7Ozs7OERBRXRDLDhEQUFDeUY7b0RBQUl2QyxXQUFVOzhEQUNac0MsT0FBT25GLE9BQU87Ozs7Ozs7MkNBYlppRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFxQmYsOERBQUNyQztvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNtQzs0QkFBR25DLFdBQVU7c0NBQXFDOzs7Ozs7c0NBQ25ELDhEQUFDd0M7NEJBQUd4QyxXQUFVOzs4Q0FDWiw4REFBQ3lDOzhDQUFHOzs7Ozs7OENBQ0osOERBQUNBOzhDQUFHOzs7Ozs7OENBQ0osOERBQUNBOzhDQUFHOzs7Ozs7OENBQ0osOERBQUNBOzhDQUFHOzs7Ozs7OENBQ0osOERBQUNBOzhDQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBSVIsOERBQUMxQztvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNtQzs0QkFBR25DLFdBQVU7c0NBQWtDOzs7Ozs7c0NBQ2hELDhEQUFDMEM7NEJBQUcxQyxXQUFVOzs4Q0FDWiw4REFBQ3lDOzhDQUFHOzs7Ozs7OENBQ0osOERBQUNBOzhDQUFHOzs7Ozs7OENBQ0osOERBQUNBOzhDQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1oQjtHQW5md0J2RztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvdGVzdC1jaGF0L3BhZ2UudHN4PzFlYzQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVGVzdENoYXQoKSB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pXG4gIGNvbnN0IFttYXRjaGVkVXNlcnMsIHNldE1hdGNoZWRVc2Vyc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pXG4gIGNvbnN0IFtzZWxlY3RlZFVzZXIsIHNldFNlbGVjdGVkVXNlcl0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpXG4gIGNvbnN0IFt0ZXN0TWVzc2FnZSwgc2V0VGVzdE1lc3NhZ2VdID0gdXNlU3RhdGUoJ+a1i+ivlea2iOaBryAtICcgKyBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpKVxuICBjb25zdCBbY2hhdEhpc3RvcnksIHNldENoYXRIaXN0b3J5XSA9IHVzZVN0YXRlPGFueVtdPihbXSlcblxuICBjb25zdCBhZGRSZXN1bHQgPSAodHlwZTogJ2luZm8nIHwgJ3N1Y2Nlc3MnIHwgJ2Vycm9yJywgbWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0UmVzdWx0cyhwcmV2ID0+IFsuLi5wcmV2LCB7IHR5cGUsIG1lc3NhZ2UsIHRpbWVzdGFtcDogbmV3IERhdGUoKSB9XSlcbiAgfVxuXG4gIC8vIOiOt+WPluW3suWMuemFjeeUqOaIt1xuICBjb25zdCBnZXRNYXRjaGVkVXNlcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJylcbiAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfor7flhYjnmbvlvZUnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgYWRkUmVzdWx0KCdpbmZvJywgJ+iOt+WPluW3suWMuemFjeeUqOaIty4uLicpXG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlci9tYXRjaGVkLXVzZXJzJywge1xuICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgIHNldE1hdGNoZWRVc2VycyhkYXRhLm1hdGNoZWRVc2VycyB8fCBbXSlcbiAgICAgICAgICBhZGRSZXN1bHQoJ3N1Y2Nlc3MnLCBg5om+5YiwICR7ZGF0YS5tYXRjaGVkVXNlcnM/Lmxlbmd0aCB8fCAwfSDkuKrlt7LljLnphY3nlKjmiLdgKVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChkYXRhLm1hdGNoZWRVc2VycyAmJiBkYXRhLm1hdGNoZWRVc2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBkYXRhLm1hdGNoZWRVc2Vycy5mb3JFYWNoKCh1c2VyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgYC0gJHt1c2VyLm5hbWV9IChJRDogJHt1c2VyLmlkfSlgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfojrflj5blt7LljLnphY3nlKjmiLflpLHotKU6ICcgKyBkYXRhLmVycm9yKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRSZXN1bHQoJ2Vycm9yJywgJ+iOt+WPluW3suWMuemFjeeUqOaIt+ivt+axguWksei0pScpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFkZFJlc3VsdCgnZXJyb3InLCAn6I635Y+W5bey5Yy56YWN55So5oi35byC5bi4OiAnICsgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8g5Y+R6YCB5rWL6K+V5raI5oGvXG4gIGNvbnN0IHNlbmRUZXN0TWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkVXNlcikge1xuICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfor7flhYjpgInmi6nogYrlpKnlr7nosaEnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJylcbiAgICAgIGFkZFJlc3VsdCgnaW5mbycsIGDlkJEgJHtzZWxlY3RlZFVzZXIubmFtZX0g5Y+R6YCB5raI5oGvOiBcIiR7dGVzdE1lc3NhZ2V9XCJgKVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL21lc3NhZ2VzL3NlbmQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICByZWNlaXZlcklkOiBwYXJzZUludChzZWxlY3RlZFVzZXIuaWQpLFxuICAgICAgICAgIG1lc3NhZ2U6IHRlc3RNZXNzYWdlLFxuICAgICAgICAgIG1lc3NhZ2VUeXBlOiAndGV4dCdcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBhZGRSZXN1bHQoJ3N1Y2Nlc3MnLCAn4pyFIOa2iOaBr+WPkemAgeaIkOWKnyEnKVxuICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsIGDmtojmga9JRDogJHtkYXRhLmRhdGEuaWR9YClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDnq4vljbPojrflj5bogYrlpKnorrDlvZVcbiAgICAgICAgICBhd2FpdCBnZXRDaGF0SGlzdG9yeSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfinYwg5raI5oGv5Y+R6YCB5aSx6LSlOiAnICsgZGF0YS5lcnJvcilcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgICAgIGFkZFJlc3VsdCgnZXJyb3InLCAn4p2MIOa2iOaBr+WPkemAgeivt+axguWksei0pTogJyArIGVycm9yVGV4dClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfinYwg5Y+R6YCB5raI5oGv5byC5bi4OiAnICsgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W6IGK5aSp6K6w5b2VXG4gIGNvbnN0IGdldENoYXRIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRVc2VyKSB7XG4gICAgICBhZGRSZXN1bHQoJ2Vycm9yJywgJ+ivt+WFiOmAieaLqeiBiuWkqeWvueixoScpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKVxuICAgICAgYWRkUmVzdWx0KCdpbmZvJywgYOiOt+WPluS4jiAke3NlbGVjdGVkVXNlci5uYW1lfSDnmoTogYrlpKnorrDlvZUuLi5gKVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL21lc3NhZ2VzL2NvbnZlcnNhdGlvbj91c2VySWQ9JHtzZWxlY3RlZFVzZXIuaWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgIHNldENoYXRIaXN0b3J5KGRhdGEubWVzc2FnZXMgfHwgW10pXG4gICAgICAgICAgYWRkUmVzdWx0KCdzdWNjZXNzJywgYOKchSDojrflj5bliLAgJHtkYXRhLm1lc3NhZ2VzPy5sZW5ndGggfHwgMH0g5p2h6IGK5aSp6K6w5b2VYClcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlcyAmJiBkYXRhLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsICfmnIDov5HnmoTogYrlpKnorrDlvZU6JylcbiAgICAgICAgICAgIGRhdGEubWVzc2FnZXMuc2xpY2UoLTMpLmZvckVhY2goKG1zZzogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZShtc2cudGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoKVxuICAgICAgICAgICAgICBhZGRSZXN1bHQoJ2luZm8nLCBgICBbJHt0aW1lfV0gJHttc2cuc2VuZGVySWQgPT09IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykgJiYgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpIHx8ICd7fScpLmlkPy50b1N0cmluZygpID09PSBtc2cuc2VuZGVySWQgPyAn5oiRJyA6IHNlbGVjdGVkVXNlci5uYW1lfTogJHttc2cuY29udGVudH1gKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfinYwg6I635Y+W6IGK5aSp6K6w5b2V5aSx6LSlOiAnICsgZGF0YS5lcnJvcilcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgICAgIGFkZFJlc3VsdCgnZXJyb3InLCAn4p2MIOiOt+WPluiBiuWkqeiusOW9leivt+axguWksei0pTogJyArIGVycm9yVGV4dClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfinYwg6I635Y+W6IGK5aSp6K6w5b2V5byC5bi4OiAnICsgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8g5a6M5pW05rWL6K+V5rWB56iLXG4gIGNvbnN0IHJ1bkZ1bGxUZXN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICBzZXRSZXN1bHRzKFtdKVxuICAgIHNldENoYXRIaXN0b3J5KFtdKVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpXG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfor7flhYjnmbvlvZUnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKHVzZXIpXG4gICAgICBhZGRSZXN1bHQoJ2luZm8nLCBg5byA5aeL6IGK5aSp5Yqf6IO95rWL6K+VIC0g5b2T5YmN55So5oi3OiAke3VzZXJEYXRhLm5hbWV9YClcblxuICAgICAgLy8g5q2l6aqkMTog6I635Y+W5bey5Yy56YWN55So5oi3XG4gICAgICBhd2FpdCBnZXRNYXRjaGVkVXNlcnMoKVxuXG4gICAgICAvLyDnrYnlvoXnlKjmiLfpgInmi6nogYrlpKnlr7nosaHvvIjlpoLmnpzmsqHmnInljLnphY3nlKjmiLfvvIzlhYjliJvlu7rvvIlcbiAgICAgIGlmIChtYXRjaGVkVXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGFkZFJlc3VsdCgnaW5mbycsICfmsqHmnInlt7LljLnphY3nlKjmiLfvvIzlsJ3or5XliJvlu7rmtYvor5XljLnphY0uLi4nKVxuICAgICAgICBcbiAgICAgICAgLy8g5Yib5bu65rWL6K+V5Yy56YWNXG4gICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJylcbiAgICAgICAgY29uc3QgdGVzdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vdGVzdC1wZW5kaW5nLWZsb3cnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYWN0aW9uOiAnY3JlYXRlX3BlbmRpbmcnIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHRlc3RSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHRlc3REYXRhID0gYXdhaXQgdGVzdFJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgIGlmICh0ZXN0RGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBhZGRSZXN1bHQoJ3N1Y2Nlc3MnLCAn4pyFIOWIm+W7uuS6hua1i+ivleWMuemFje+8jOivt+aOpeWPl+WQjuWGjea1i+ivleiBiuWkqScpXG4gICAgICAgICAgICBhZGRSZXN1bHQoJ2luZm8nLCAn6K+377yaMS4g5Yi35paw6aG16Z2iIDIuIOeCueWHu+e0q+iJsuaMiemSruaOpeWPl+WMuemFjSAzLiDov5Tlm57mraTpobXpnaLmtYvor5XogYrlpKknKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhZGRSZXN1bHQoJ2Vycm9yJywgJ+a1i+ivlei/h+eoi+WHuumUmTogJyArIGVycm9yKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g6aG16Z2i5Yqg6L295pe26I635Y+W5bey5Yy56YWN55So5oi3XG4gICAgZ2V0TWF0Y2hlZFVzZXJzKClcbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTEwMCBwLThcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG9cIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLThcIj7ogYrlpKnlip/og73mtYvor5U8L2gxPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0yIGdhcC02XCI+XG4gICAgICAgICAgey8qIOW3puS+p++8mua1i+ivleaOp+WItumdouadvyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTZcIj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00XCI+5rWL6K+V5o6n5Yi2PC9oMj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cnVuRnVsbFRlc3R9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNjAwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gJ+a1i+ivleS4rS4uLicgOiAn8J+UrCDlvIDlp4vlrozmlbTmtYvor5UnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17Z2V0TWF0Y2hlZFVzZXJzfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWdyZWVuLTYwMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg8J+TiyDliLfmlrDlt7LljLnphY3nlKjmiLdcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIHttYXRjaGVkVXNlcnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICDpgInmi6nogYrlpKnlr7nosaE6XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRVc2VyPy5pZCB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBtYXRjaGVkVXNlcnMuZmluZCh1ID0+IHUuaWQgPT09IGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRVc2VyKHVzZXIpXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+6K+36YCJ5oupLi4uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAge21hdGNoZWRVc2Vycy5tYXAodXNlciA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17dXNlci5pZH0gdmFsdWU9e3VzZXIuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5uYW1lfSAoSUQ6IHt1c2VyLmlkfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRVc2VyICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICDmtYvor5Xmtojmga86XG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZXN0TWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVzdE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLovpPlhaXmtYvor5Xmtojmga8uLi5cIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtzZW5kVGVzdE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBiZy1wdXJwbGUtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1wdXJwbGUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIPCfkqwg5Y+R6YCB5rWL6K+V5raI5oGvXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtnZXRDaGF0SGlzdG9yeX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0yIGJnLW9yYW5nZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLW9yYW5nZS02MDBcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAg8J+TpSDojrflj5bogYrlpKnorrDlvZVcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsICfwn6eqIOW8gOWni+a2iOaBr+aMgeS5heaAp+a1i+ivlS4uLicpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlj5HpgIHmtojmga/lkI7nq4vljbPmo4Dmn6XmmK/lkKbkv53lrZhcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUZXN0TWVzc2FnZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRDaGF0SGlzdG9yeSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgJ+KchSDmtojmga/mjIHkuYXmgKfmtYvor5XlrozmiJDvvIzor7fmo4Dmn6XogYrlpKnorrDlvZUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctcmVkLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICDwn6eqIOa1i+ivlea2iOaBr+aMgeS5heaAp1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfor7flhYjpgInmi6nogYrlpKnlr7nosaEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgJ/CfmoAg5byA5aeL5a6M5pW056uv5Yiw56uv5rWL6K+VLi4uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXN0TXNnID0gYOa1i+ivlea2iOaBryAtICR7bmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmraXpqqQxOiDlj5HpgIHmtojmga9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgYPCfk6Qg5q2l6aqkMTog5Y+R6YCB5rWL6K+V5raI5oGvIFwiJHt0ZXN0TXNnfVwiYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VuZFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbWVzc2FnZXMvc2VuZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJJZDogcGFyc2VJbnQoc2VsZWN0ZWRVc2VyLmlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRlc3RNc2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlVHlwZTogJ3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VuZFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfinYwg5q2l6aqkMeWksei0pTog5Y+R6YCB5raI5oGv5aSx6LSlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VuZERhdGEgPSBhd2FpdCBzZW5kUmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VuZERhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnZXJyb3InLCBg4p2MIOatpemqpDHlpLHotKU6ICR7c2VuZERhdGEuZXJyb3J9YClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdzdWNjZXNzJywgYOKchSDmraXpqqQx5oiQ5YqfOiDmtojmga/lt7Llj5HpgIHvvIxJRDogJHtzZW5kRGF0YS5kYXRhLmlkfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmraXpqqQyOiDnrYnlvoXkuIDnp5Lnoa7kv53mlbDmja7lupPlhpnlhaVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgJ+KPsyDmraXpqqQyOiDnrYnlvoXmlbDmja7lupPlhpnlhaUuLi4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmraXpqqQzOiDojrflj5bogYrlpKnorrDlvZVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgJ/Cfk6Ug5q2l6aqkMzog6I635Y+W6IGK5aSp6K6w5b2V6aqM6K+B5L+d5a2YJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2V0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9tZXNzYWdlcy9jb252ZXJzYXRpb24/dXNlcklkPSR7c2VsZWN0ZWRVc2VyLmlkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnZXJyb3InLCAn4p2MIOatpemqpDPlpLHotKU6IOiOt+WPluiBiuWkqeiusOW9leWksei0pScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldERhdGEgPSBhd2FpdCBnZXRSZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXREYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSZXN1bHQoJ2Vycm9yJywgYOKdjCDmraXpqqQz5aSx6LSlOiAke2dldERhdGEuZXJyb3J9YClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5q2l6aqkNDog6aqM6K+B5raI5oGv5piv5ZCm5Zyo6IGK5aSp6K6w5b2V5LitXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsIGDwn5OLIOatpemqpDQ6IOmqjOivgea2iOaBryAtIOiOt+WPluWIsCAke2dldERhdGEubWVzc2FnZXMubGVuZ3RofSDmnaHmtojmga9gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZE1lc3NhZ2UgPSBnZXREYXRhLm1lc3NhZ2VzLmZpbmQoKG1zZzogYW55KSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cuY29udGVudCA9PT0gdGVzdE1zZyAmJiBtc2cuaWQudG9TdHJpbmcoKSA9PT0gc2VuZERhdGEuZGF0YS5pZC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSZXN1bHQoJ3N1Y2Nlc3MnLCBg8J+OiSDmtYvor5XmiJDlip8hIOa2iOaBr+W3suato+ehruS/neWtmOWSjOWKoOi9vWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgYOKchSDpqozor4Hor6bmg4U6IElEICR7Zm91bmRNZXNzYWdlLmlkfSwg5YaF5a65IFwiJHtmb3VuZE1lc3NhZ2UuY29udGVudH1cImApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsIGDinYwg5rWL6K+V5aSx6LSlISDlj5HpgIHnmoTmtojmga/mnKrlnKjogYrlpKnorrDlvZXkuK3mib7liLBgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsIGDwn5SNIOafpeaJvueahOa2iOaBrzogSUQgJHtzZW5kRGF0YS5kYXRhLmlkfSwg5YaF5a65IFwiJHt0ZXN0TXNnfVwiYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSZXN1bHQoJ2luZm8nLCBg8J+TiyDnjrDmnInmtojmga86YClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXREYXRhLm1lc3NhZ2VzLmZvckVhY2goKG1zZzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSZXN1bHQoJ2luZm8nLCBgICAtIElEICR7bXNnLmlkfTogXCIke21zZy5jb250ZW50fVwiYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfinYwg56uv5Yiw56uv5rWL6K+V5byC5bi4OiAnICsgZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWdyZWVuLTYwMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gJ+a1i+ivleS4rS4uLicgOiAn8J+agCDlrozmlbTnq6/liLDnq6/mtYvor5UnfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfor7flhYjpgInmi6nogYrlpKnlr7nosaEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSZXN1bHQoJ2luZm8nLCBg8J+UjSDosIPor5XkuI4gJHtzZWxlY3RlZFVzZXIubmFtZX0g55qE5raI5oGv5p+l6K+iLi4uYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGVidWcvbWVzc2FnZXM/dXNlcklkPSR7c2VsZWN0ZWRVc2VyLmlkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnc3VjY2VzcycsIGDinIUg6LCD6K+V5p+l6K+i5a6M5oiQYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsIGDwn5OLIOeUqOaIt+ebuOWFs+a2iOaBr+aAu+aVsDogJHtkYXRhLmRlYnVnLnRvdGFsQWxsTWVzc2FnZXN9YClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsIGDwn5KsIOWvueivnea2iOaBr+aAu+aVsDogJHtkYXRhLmRlYnVnLnRvdGFsQ29udmVyc2F0aW9uTWVzc2FnZXN9YClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnaW5mbycsIGDwn5WSIOacgOi/kea2iOaBrzogJHtkYXRhLmRlYnVnLnJlY2VudE1lc3NhZ2VzLmxlbmd0aH0g5p2hYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pi+56S65pyA6L+R55qE5Yeg5p2h5raI5oGvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRlYnVnLnJlY2VudE1lc3NhZ2VzLnNsaWNlKDAsIDMpLmZvckVhY2goKG1zZzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZShtc2cuY3JlYXRlZF9hdCkudG9Mb2NhbGVUaW1lU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdpbmZvJywgYCAgWyR7dGltZX1dIElEOiR7bXNnLmlkfSAke21zZy5zZW5kZXJfaWR94oaSJHttc2cucmVjZWl2ZXJfaWR9OiAke21zZy5tZXNzYWdlfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSZXN1bHQoJ2Vycm9yJywgJ+iwg+ivleafpeivouWksei0pTogJyArIGRhdGEuZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJlc3VsdCgnZXJyb3InLCAn6LCD6K+V5p+l6K+i6K+35rGC5aSx6LSlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVzdWx0KCdlcnJvcicsICfosIPor5Xmn6Xor6LlvILluLg6ICcgKyBlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYmctZ3JheS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWdyYXktNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIPCflI0g6LCD6K+V5raI5oGv5p+l6K+iXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIOiBiuWkqeiusOW9lemihOiniCAqL31cbiAgICAgICAgICAgIHtjaGF0SGlzdG9yeS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTZcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTRcIj7ogYrlpKnorrDlvZXpooTop4g8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLTYwIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAge2NoYXRIaXN0b3J5Lm1hcCgobXNnLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01lID0gbXNnLnNlbmRlcklkID09PSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykgfHwgJ3t9JykuaWQ/LnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHJvdW5kZWQtbGcgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtOTAwIG1sLTgnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIHRleHQtZ3JheS05MDAgbXItOCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzTWUgPyAn5oiRJyA6IHNlbGVjdGVkVXNlcj8ubmFtZX0g4oCiIHtuZXcgRGF0ZShtc2cudGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+e21zZy5jb250ZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIOWPs+S+p++8mua1i+ivlee7k+aenCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93IHAtNlwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00XCI+5rWL6K+V57uT5p6cPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLTk2IG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICB7cmVzdWx0cy5tYXAoKHJlc3VsdCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0zIHJvdW5kZWQtbGcgYm9yZGVyLWwtNCB0ZXh0LXNtICR7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC50eXBlID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi01MCBib3JkZXItZ3JlZW4tNDAwIHRleHQtZ3JlZW4tODAwJ1xuICAgICAgICAgICAgICAgICAgICAgIDogcmVzdWx0LnR5cGUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1yZWQtNTAgYm9yZGVyLXJlZC00MDAgdGV4dC1yZWQtODAwJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWJsdWUtNTAgYm9yZGVyLWJsdWUtNDAwIHRleHQtYmx1ZS04MDAnXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICB7cmVzdWx0LnRpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9XCJ3aGl0ZXNwYWNlLXByZS13cmFwIGZvbnQtbW9ub1wiPlxuICAgICAgICAgICAgICAgICAgICB7cmVzdWx0Lm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGJnLXllbGxvdy01MCBib3JkZXIgYm9yZGVyLXllbGxvdy0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXllbGxvdy04MDAgbWItMlwiPvCfk4sg5rWL6K+V6K+05piO77yaPC9oMz5cbiAgICAgICAgICA8b2wgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXllbGxvdy03MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8bGk+MS4g56Gu5L+d5bey55m75b2V5bm25pyJ5bey5Yy56YWN55qE55So5oi3PC9saT5cbiAgICAgICAgICAgIDxsaT4yLiDlpoLmnpzmsqHmnInljLnphY3nlKjmiLfvvIzkvJroh6rliqjliJvlu7rmtYvor5XljLnphY08L2xpPlxuICAgICAgICAgICAgPGxpPjMuIOmAieaLqeiBiuWkqeWvueixoeWQjuWPkemAgea1i+ivlea2iOaBrzwvbGk+XG4gICAgICAgICAgICA8bGk+NC4g5p+l55yL6IGK5aSp6K6w5b2V6aqM6K+B5raI5oGv5piv5ZCm5L+d5a2YPC9saT5cbiAgICAgICAgICAgIDxsaT41LiDliLfmlrDpobXpnaLlho3mrKHojrflj5borrDlvZXvvIzpqozor4HmjIHkuYXmgKc8L2xpPlxuICAgICAgICAgIDwvb2w+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1yZWQtODAwIG1iLTJcIj7wn5SNIOiwg+ivleaPkOekuu+8mjwvaDM+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNzAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGxpPuKAoiDmiZPlvIDmtY/op4jlmajlvIDlj5HogIXlt6Xlhbfmn6XnnIvor6bnu4bnmoRBUEnml6Xlv5c8L2xpPlxuICAgICAgICAgICAgPGxpPuKAoiDlpoLmnpzmtojmga/lj5HpgIHlpLHotKXvvIzmo4Dmn6XmjqfliLblj7DplJnor6/kv6Hmga88L2xpPlxuICAgICAgICAgICAgPGxpPuKAoiDlpoLmnpzogYrlpKnorrDlvZXkuLrnqbrvvIzlj6/og73mmK/ljLnphY3lhbPns7vmiJbmnYPpmZDpl67popg8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiVGVzdENoYXQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJlc3VsdHMiLCJzZXRSZXN1bHRzIiwibWF0Y2hlZFVzZXJzIiwic2V0TWF0Y2hlZFVzZXJzIiwic2VsZWN0ZWRVc2VyIiwic2V0U2VsZWN0ZWRVc2VyIiwidGVzdE1lc3NhZ2UiLCJzZXRUZXN0TWVzc2FnZSIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJjaGF0SGlzdG9yeSIsInNldENoYXRIaXN0b3J5IiwiYWRkUmVzdWx0IiwidHlwZSIsIm1lc3NhZ2UiLCJwcmV2IiwidGltZXN0YW1wIiwiZ2V0TWF0Y2hlZFVzZXJzIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsImxlbmd0aCIsImZvckVhY2giLCJ1c2VyIiwibmFtZSIsImlkIiwiZXJyb3IiLCJzZW5kVGVzdE1lc3NhZ2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlY2VpdmVySWQiLCJwYXJzZUludCIsIm1lc3NhZ2VUeXBlIiwiZ2V0Q2hhdEhpc3RvcnkiLCJlcnJvclRleHQiLCJ0ZXh0IiwibWVzc2FnZXMiLCJzbGljZSIsIm1zZyIsInRpbWUiLCJzZW5kZXJJZCIsInBhcnNlIiwidG9TdHJpbmciLCJjb250ZW50IiwicnVuRnVsbFRlc3QiLCJ1c2VyRGF0YSIsInRlc3RSZXNwb25zZSIsImFjdGlvbiIsInRlc3REYXRhIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImxhYmVsIiwic2VsZWN0IiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJmaW5kIiwidSIsInRhcmdldCIsIm9wdGlvbiIsIm1hcCIsImlucHV0IiwicGxhY2Vob2xkZXIiLCJ0aGVuIiwic2V0VGltZW91dCIsInRlc3RNc2ciLCJzZW5kUmVzcG9uc2UiLCJzZW5kRGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0UmVzcG9uc2UiLCJnZXREYXRhIiwiZm91bmRNZXNzYWdlIiwiZGVidWciLCJ0b3RhbEFsbE1lc3NhZ2VzIiwidG90YWxDb252ZXJzYXRpb25NZXNzYWdlcyIsInJlY2VudE1lc3NhZ2VzIiwiY3JlYXRlZF9hdCIsInNlbmRlcl9pZCIsInJlY2VpdmVyX2lkIiwiaDMiLCJpbmRleCIsImlzTWUiLCJyZXN1bHQiLCJwcmUiLCJvbCIsImxpIiwidWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/test-chat/page.tsx\n"));

/***/ })

});
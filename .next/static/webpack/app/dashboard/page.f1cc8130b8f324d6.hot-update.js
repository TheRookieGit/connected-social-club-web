"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/page",{

/***/ "(app-pages-browser)/./components/ChatPanel.tsx":
/*!**********************************!*\
  !*** ./components/ChatPanel.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPanel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Clock,Heart,MapPin,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Clock,Heart,MapPin,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Clock,Heart,MapPin,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Clock,Heart,MapPin,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction ChatPanel(param) {\n    let { matchedUsers, onClose } = param;\n    _s();\n    const [selectedUser, setSelectedUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lastMessageId, setLastMessageId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isInitialLoad, setIsInitialLoad] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // 获取当前用户ID\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const user = localStorage.getItem(\"user\");\n        if (user) {\n            var _userData_id;\n            const userData = JSON.parse(user);\n            setCurrentUserId(((_userData_id = userData.id) === null || _userData_id === void 0 ? void 0 : _userData_id.toString()) || \"\");\n        }\n    }, []);\n    // 改进的消息加载函数 - 智能合并，保证数据一致性\n    const loadMessages = async function(userId) {\n        let forceRefresh = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        if (!userId || !currentUserId) {\n            console.log(\"❌ [聊天面板] 加载消息条件不满足:\", {\n                hasUserId: !!userId,\n                hasCurrentUserId: !!currentUserId\n            });\n            return;\n        }\n        console.log(\"\\uD83D\\uDCE5 [聊天面板] 开始加载与用户 \".concat(userId, \" 的聊天记录\").concat(forceRefresh ? \" (强制刷新)\" : \"\"));\n        // 只在初始加载或强制刷新时显示loading\n        if (forceRefresh || isInitialLoad) {\n            setLoading(true);\n        }\n        try {\n            const token = localStorage.getItem(\"token\");\n            if (!token) {\n                console.error(\"❌ [聊天面板] 没有找到token\");\n                return;\n            }\n            console.log(\"\\uD83D\\uDCE4 [聊天面板] 发送API请求到 /api/messages/conversation?userId=\".concat(userId));\n            const response = await fetch(\"/api/messages/conversation?userId=\".concat(userId, \"&limit=100\"), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token)\n                }\n            });\n            console.log(\"\\uD83D\\uDCE1 [聊天面板] 获取聊天记录API响应状态:\", response.status);\n            if (response.ok) {\n                const data = await response.json();\n                console.log(\"\\uD83D\\uDCE8 [聊天面板] 获取聊天记录API响应数据:\", data);\n                if (data.success) {\n                    const serverMessages = data.messages.map((msg)=>({\n                            id: msg.id.toString(),\n                            senderId: msg.senderId,\n                            receiverId: msg.receiverId,\n                            content: msg.content,\n                            timestamp: new Date(msg.timestamp),\n                            type: msg.messageType || \"text\",\n                            isRead: msg.isRead || false\n                        }));\n                    console.log(\"✅ [聊天面板] 成功加载 \".concat(serverMessages.length, \" 条聊天记录\"));\n                    if (forceRefresh || isInitialLoad) {\n                        // 初始加载或强制刷新：直接设置服务器数据\n                        console.log(\"\\uD83D\\uDD04 [聊天面板] 初始加载/强制刷新 - 直接使用服务器数据\");\n                        setMessages(serverMessages);\n                        // 记录最新消息ID\n                        if (serverMessages.length > 0) {\n                            const latestMessage = serverMessages[serverMessages.length - 1];\n                            setLastMessageId(latestMessage.id);\n                            console.log(\"\\uD83D\\uDCDD [聊天面板] 记录最新消息ID: \".concat(latestMessage.id));\n                        }\n                        setIsInitialLoad(false);\n                    } else {\n                        // 增量更新：只添加新消息，保持现有消息\n                        console.log(\"\\uD83D\\uDD04 [聊天面板] 增量更新 - 检查新消息\");\n                        // 找出服务器有但本地没有的新消息\n                        const existingIds = new Set(messages.map((msg)=>msg.id));\n                        const newMessages = serverMessages.filter((msg)=>!existingIds.has(msg.id));\n                        if (newMessages.length > 0) {\n                            console.log(\"\\uD83C\\uDD95 [聊天面板] 发现 \".concat(newMessages.length, \" 条新消息\"));\n                            setMessages((prev)=>{\n                                // 合并现有消息和新消息，按时间排序\n                                const allMessages = [\n                                    ...prev,\n                                    ...newMessages\n                                ];\n                                const sortedMessages = allMessages.sort((a, b)=>new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n                                // 去重（以防万一）\n                                const uniqueMessages = sortedMessages.reduce((acc, msg)=>{\n                                    if (!acc.find((existing)=>existing.id === msg.id)) {\n                                        acc.push(msg);\n                                    }\n                                    return acc;\n                                }, []);\n                                console.log(\"\\uD83D\\uDCDD [聊天面板] 合并后消息总数: \".concat(uniqueMessages.length));\n                                return uniqueMessages;\n                            });\n                            // 更新最新消息ID\n                            const latestNew = newMessages[newMessages.length - 1];\n                            setLastMessageId(latestNew.id);\n                        } else {\n                            console.log(\"✅ [聊天面板] 没有新消息\");\n                        }\n                    }\n                } else {\n                    console.error(\"❌ [聊天面板] 加载聊天记录失败:\", data.error);\n                }\n            } else {\n                console.error(\"❌ [聊天面板] 加载聊天记录请求失败，状态:\", response.status);\n                const errorText = await response.text();\n                console.error(\"❌ [聊天面板] 错误详情:\", errorText);\n            }\n        } catch (error) {\n            console.error(\"❌ [聊天面板] 加载聊天记录异常:\", error);\n        } finally{\n            if (forceRefresh || isInitialLoad) {\n                setLoading(false);\n            }\n        }\n    };\n    // 改进的实时消息检查 - 更频繁且智能\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!selectedUser || !currentUserId) return;\n        const checkForNewMessages = async ()=>{\n            try {\n                const token = localStorage.getItem(\"token\");\n                if (!token) return;\n                // 关键修复：始终获取完整消息历史，确保数据一致性\n                const response = await fetch(\"/api/messages/conversation?userId=\".concat(selectedUser.id, \"&limit=100\"), {\n                    headers: {\n                        \"Authorization\": \"Bearer \".concat(token)\n                    }\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.success) {\n                        const serverMessages = data.messages || [];\n                        // 检查是否有比本地最新消息更新的消息\n                        if (serverMessages.length > 0) {\n                            const serverLatestMessage = serverMessages[serverMessages.length - 1];\n                            // 如果服务器最新消息ID与本地记录不同，说明有新消息\n                            if (lastMessageId !== serverLatestMessage.id.toString()) {\n                                console.log(\"\\uD83C\\uDD95 [聊天面板] 检测到新消息，触发增量更新\");\n                                await loadMessages(selectedUser.id, false) // 增量更新\n                                ;\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                // 静默处理错误，避免干扰用户\n                console.error(\"❌ [聊天面板] 检查新消息时出错:\", error);\n            }\n        };\n        // 立即检查一次\n        checkForNewMessages();\n        // 设置定时检查，每2秒检查一次\n        const interval = setInterval(checkForNewMessages, 2000);\n        return ()=>clearInterval(interval);\n    }, [\n        selectedUser,\n        currentUserId,\n        lastMessageId\n    ]);\n    // 当选择用户时初始化加载\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedUser && currentUserId) {\n            console.log(\"\\uD83D\\uDD04 选择用户，初始化加载聊天记录:\", selectedUser.name, selectedUser.id);\n            setIsInitialLoad(true);\n            setMessages([]) // 清空之前的消息\n            ;\n            setLastMessageId(null) // 重置最新消息ID\n            ;\n            loadMessages(selectedUser.id, true) // 强制刷新\n            ;\n        }\n    }, [\n        selectedUser,\n        currentUserId\n    ]);\n    // 自动滚动到底部\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages\n    ]);\n    const handleSendMessage = async ()=>{\n        if (!newMessage.trim() || !selectedUser || !currentUserId || loading) {\n            console.log(\"❌ [聊天面板] 发送消息条件不满足:\", {\n                hasMessage: !!newMessage.trim(),\n                hasSelectedUser: !!selectedUser,\n                hasCurrentUserId: !!currentUserId,\n                loading\n            });\n            return;\n        }\n        const messageContent = newMessage.trim();\n        console.log(\"\\uD83D\\uDCAC [聊天面板] 准备发送消息:\", {\n            from: currentUserId,\n            to: selectedUser.id,\n            content: messageContent\n        });\n        // 生成临时ID用于乐观更新\n        const tempId = \"temp_\".concat(Date.now());\n        const optimisticMessage = {\n            id: tempId,\n            senderId: currentUserId,\n            receiverId: selectedUser.id,\n            content: messageContent,\n            timestamp: new Date(),\n            type: \"text\",\n            isRead: false\n        };\n        // 乐观更新：立即显示消息\n        setMessages((prev)=>[\n                ...prev,\n                optimisticMessage\n            ]);\n        setNewMessage(\"\");\n        setLoading(true);\n        try {\n            const token = localStorage.getItem(\"token\");\n            if (!token) {\n                console.error(\"❌ [聊天面板] 没有找到token\");\n                alert(\"请重新登录\");\n                // 回滚乐观更新\n                setMessages((prev)=>prev.filter((msg)=>msg.id !== tempId));\n                setNewMessage(messageContent);\n                setLoading(false);\n                return;\n            }\n            console.log(\"\\uD83D\\uDCE4 [聊天面板] 发送API请求到 /api/messages/send\");\n            const response = await fetch(\"/api/messages/send\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                },\n                body: JSON.stringify({\n                    receiverId: parseInt(selectedUser.id),\n                    message: messageContent,\n                    messageType: \"text\"\n                })\n            });\n            console.log(\"\\uD83D\\uDCE1 [聊天面板] API响应状态:\", response.status);\n            if (response.ok) {\n                const data = await response.json();\n                console.log(\"\\uD83D\\uDCE8 [聊天面板] API响应数据:\", data);\n                if (data.success) {\n                    // 用服务器返回的真实消息替换临时消息\n                    const realMessage = {\n                        id: data.data.id.toString(),\n                        senderId: data.data.senderId,\n                        receiverId: data.data.receiverId,\n                        content: data.data.content,\n                        timestamp: new Date(data.data.timestamp),\n                        type: data.data.messageType || \"text\",\n                        isRead: data.data.isRead\n                    };\n                    console.log(\"✅ [聊天面板] 消息发送成功，替换临时消息:\", realMessage);\n                    // 替换临时消息为真实消息\n                    setMessages((prev)=>prev.map((msg)=>msg.id === tempId ? realMessage : msg));\n                    // 更新最新消息ID\n                    setLastMessageId(realMessage.id);\n                    console.log(\"\\uD83D\\uDCDD [聊天面板] 更新最新消息ID: \".concat(realMessage.id));\n                } else {\n                    console.error(\"❌ [聊天面板] 发送消息失败:\", data.error);\n                    alert(\"发送消息失败: \" + data.error);\n                    // 回滚乐观更新\n                    setMessages((prev)=>prev.filter((msg)=>msg.id !== tempId));\n                    setNewMessage(messageContent);\n                }\n            } else {\n                console.error(\"❌ [聊天面板] 发送消息请求失败，状态:\", response.status);\n                const errorText = await response.text();\n                console.error(\"❌ [聊天面板] 错误详情:\", errorText);\n                alert(\"发送消息失败，请重试\");\n                // 回滚乐观更新\n                setMessages((prev)=>prev.filter((msg)=>msg.id !== tempId));\n                setNewMessage(messageContent);\n            }\n        } catch (error) {\n            console.error(\"❌ [聊天面板] 发送消息异常:\", error);\n            alert(\"网络错误，请重试\");\n            // 回滚乐观更新\n            setMessages((prev)=>prev.filter((msg)=>msg.id !== tempId));\n            setNewMessage(messageContent);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    // 手动刷新函数 - 强制重新加载所有消息\n    const handleManualRefresh = async ()=>{\n        if (!selectedUser) return;\n        console.log(\"\\uD83D\\uDD04 [聊天面板] 手动强制刷新\");\n        await loadMessages(selectedUser.id, true);\n    };\n    // 格式化时间显示\n    const formatTime = (date)=>{\n        return date.toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        });\n    };\n    // 已读状态指示器组件\n    const ReadStatusIndicator = (param)=>{\n        let { isRead } = param;\n        if (isRead) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center\",\n                title: \"已读\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    width: \"16\",\n                    height: \"12\",\n                    viewBox: \"0 0 16 12\",\n                    className: \"text-blue-300\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M15.03 1.47a.75.75 0 010 1.06l-9 9a.75.75 0 01-1.06 0l-4-4a.75.75 0 011.06-1.06L5.5 9.94 13.97 1.47a.75.75 0 011.06 0z\",\n                            fill: \"currentColor\"\n                        }, void 0, false, {\n                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                            lineNumber: 373,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M12.03 1.47a.75.75 0 010 1.06l-6 6a.75.75 0 01-1.06 0l-1-1a.75.75 0 011.06-1.06L6.5 7.94 10.97 3.47a.75.75 0 011.06 0z\",\n                            fill: \"currentColor\",\n                            opacity: \"0.6\"\n                        }, void 0, false, {\n                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                            lineNumber: 377,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                    lineNumber: 372,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                lineNumber: 371,\n                columnNumber: 9\n            }, this);\n        } else {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center\",\n                title: \"已发送\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    width: \"12\",\n                    height: \"9\",\n                    viewBox: \"0 0 12 9\",\n                    className: \"text-gray-400\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"M11.03 1.47a.75.75 0 010 1.06l-6 6a.75.75 0 01-1.06 0l-3-3a.75.75 0 011.06-1.06L4.5 6.94 9.97 1.47a.75.75 0 011.06 0z\",\n                        fill: \"currentColor\"\n                    }, void 0, false, {\n                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                        lineNumber: 389,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                    lineNumber: 388,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                lineNumber: 387,\n                columnNumber: 9\n            }, this);\n        }\n    };\n    const formatLastSeen = (user)=>{\n        if (user.isOnline) return \"在线\";\n        return \"离线\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between p-6 border-b bg-gradient-to-r from-red-50 to-pink-50\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        className: \"text-red-500\",\n                                        size: 20\n                                    }, void 0, false, {\n                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                        lineNumber: 411,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                    lineNumber: 410,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-xl font-bold text-gray-900\",\n                                            children: \"我的匹配\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                            lineNumber: 414,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-500\",\n                                            children: matchedUsers.length > 0 ? \"\".concat(matchedUsers.length, \" 个已配对的用户等待聊天\") : \"还没有匹配，去发现更多用户吧！\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                            lineNumber: 415,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                    lineNumber: 413,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                            lineNumber: 409,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-2 text-gray-500 hover:text-gray-700 transition-colors rounded-full hover:bg-gray-100\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"h-6 w-6\"\n                            }, void 0, false, {\n                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                lineNumber: 427,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                            lineNumber: 423,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                    lineNumber: 408,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-1 overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-96 border-r bg-gray-50\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between mb-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                className: \"font-semibold text-gray-900\",\n                                                children: \"已配对用户\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 436,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm text-gray-500 bg-red-100 px-2 py-1 rounded-full\",\n                                                children: matchedUsers.length\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 437,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                        lineNumber: 435,\n                                        columnNumber: 15\n                                    }, this),\n                                    matchedUsers.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center py-8\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                    className: \"text-gray-400\",\n                                                    size: 24\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                    lineNumber: 445,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 444,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                                className: \"font-medium text-gray-900 mb-2\",\n                                                children: \"暂无匹配\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 447,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-500 leading-relaxed\",\n                                                children: [\n                                                    \"还没有找到匹配的用户\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 449,\n                                                        columnNumber: 31\n                                                    }, this),\n                                                    \"继续浏览用户来寻找\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 450,\n                                                        columnNumber: 30\n                                                    }, this),\n                                                    \"你的完美匹配吧！\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 448,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                        lineNumber: 443,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: matchedUsers.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                onClick: ()=>setSelectedUser(user),\n                                                className: \"p-4 rounded-xl cursor-pointer transition-all duration-200 \".concat((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.id) === user.id ? \"bg-red-100 border-2 border-red-200 shadow-md\" : \"bg-white hover:bg-red-50 border-2 border-transparent shadow-sm hover:shadow-md\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"relative\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-12 h-12 bg-gradient-to-br from-red-200 to-pink-200 rounded-full flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-red-600 font-semibold text-lg\",\n                                                                        children: user.name.charAt(0)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                        lineNumber: 469,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                    lineNumber: 468,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                user.isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                    lineNumber: 474,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                            lineNumber: 467,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-1 min-w-0\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center space-x-2 mb-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                                                            className: \"font-semibold text-gray-900 truncate\",\n                                                                            children: user.name\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 479,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-sm text-gray-500\",\n                                                                            children: \"•\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 480,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-sm text-gray-500\",\n                                                                            children: [\n                                                                                user.age,\n                                                                                \"岁\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 481,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                    lineNumber: 478,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center space-x-1 text-sm text-gray-500 mb-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                                            size: 12\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 484,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"truncate\",\n                                                                            children: user.location\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 485,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                    lineNumber: 483,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center space-x-1 text-xs\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                                            size: 10\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 488,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: user.isOnline ? \"text-green-600 font-medium\" : \"text-gray-500\",\n                                                                            children: formatLastSeen(user)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 489,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                    lineNumber: 487,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                            lineNumber: 477,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-2 h-2 bg-red-400 rounded-full\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                lineNumber: 495,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                            lineNumber: 494,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                    lineNumber: 466,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, user.id, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 457,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                        lineNumber: 455,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                lineNumber: 434,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                            lineNumber: 433,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 flex flex-col\",\n                            children: selectedUser ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between p-4 border-b bg-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white font-semibold\",\n                                                        children: selectedUser.name.charAt(0).toUpperCase()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 512,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"font-semibold\",\n                                                                children: selectedUser.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                lineNumber: 516,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm text-gray-500\",\n                                                                children: [\n                                                                    selectedUser.age,\n                                                                    \"岁 • \",\n                                                                    selectedUser.location,\n                                                                    selectedUser.isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"ml-2 text-green-500\",\n                                                                        children: \"• 在线\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                        lineNumber: 520,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                lineNumber: 517,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 515,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 511,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleManualRefresh,\n                                                        disabled: loading,\n                                                        className: \"px-3 py-1 text-sm bg-blue-100 hover:bg-blue-200 disabled:opacity-50 rounded-lg transition-colors\",\n                                                        title: \"强制刷新消息\",\n                                                        children: loading ? \"刷新中...\" : \"\\uD83D\\uDD04 刷新\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 526,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"px-3 py-1 bg-red-500 text-white text-sm rounded-lg\",\n                                                        children: \"已匹配\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 534,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: onClose,\n                                                        className: \"p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n                                                        children: \"✕\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 537,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 525,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                        lineNumber: 510,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\",\n                                        children: [\n                                            loading && messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex justify-center py-8\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                            lineNumber: 551,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-gray-500 text-sm\",\n                                                            children: \"加载聊天记录中...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                            lineNumber: 552,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                    lineNumber: 550,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 549,\n                                                columnNumber: 21\n                                            }, this),\n                                            messages.length === 0 && !loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center py-12\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                            className: \"text-red-500\",\n                                                            size: 24\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                            lineNumber: 560,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 559,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                                        className: \"font-medium text-gray-900 mb-2\",\n                                                        children: \"开始对话\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 562,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: [\n                                                            \"你们已经匹配成功了！\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                lineNumber: 564,\n                                                                columnNumber: 35\n                                                            }, this),\n                                                            \"发送第一条消息来打破沉默吧\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 563,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 558,\n                                                columnNumber: 21\n                                            }, this),\n                                            messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex \".concat(message.senderId === currentUserId ? \"justify-end\" : \"justify-start\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"max-w-xs lg:max-w-md px-4 py-3 rounded-2xl shadow-sm \".concat(message.senderId === currentUserId ? \"bg-red-500 text-white\" : \"bg-white text-gray-900 border\", \" \").concat(message.id.startsWith(\"temp_\") ? \"opacity-70\" : \"\"),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm leading-relaxed\",\n                                                                children: message.content\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                lineNumber: 586,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between mt-2 text-xs \".concat(message.senderId === currentUserId ? \"text-red-100\" : \"text-gray-500\"),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: formatTime(message.timestamp)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                        lineNumber: 592,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    message.senderId === currentUserId && !message.id.startsWith(\"temp_\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center ml-2\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ReadStatusIndicator, {\n                                                                            isRead: message.isRead\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                            lineNumber: 595,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                        lineNumber: 594,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    message.id.startsWith(\"temp_\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-xs opacity-60\",\n                                                                        children: \"发送中...\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                        lineNumber: 599,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                                lineNumber: 587,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 577,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, message.id, false, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                    lineNumber: 571,\n                                                    columnNumber: 21\n                                                }, this)),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                ref: messagesEndRef\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 605,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                        lineNumber: 547,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-4 border-t bg-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex space-x-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newMessage,\n                                                        onChange: (e)=>setNewMessage(e.target.value),\n                                                        onKeyPress: handleKeyPress,\n                                                        placeholder: \"给 \".concat(selectedUser.name, \" 发送消息...\"),\n                                                        className: \"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500\",\n                                                        disabled: loading\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 611,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleSendMessage,\n                                                        disabled: loading || !newMessage.trim(),\n                                                        className: \"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n                                                        children: loading ? \"发送中...\" : \"发送\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                        lineNumber: 620,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 610,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 text-xs text-gray-500 text-center\",\n                                                children: \"按 Enter 发送 • 自动检查新消息每2秒 • 优化实时同步\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 628,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                        lineNumber: 609,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 flex items-center justify-center bg-gray-50\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Clock_Heart_MapPin_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                className: \"text-red-500\",\n                                                size: 32\n                                            }, void 0, false, {\n                                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                lineNumber: 637,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                            lineNumber: 636,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-xl font-semibold text-gray-900 mb-3\",\n                                            children: \"选择聊天对象\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                            lineNumber: 639,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-500 leading-relaxed\",\n                                            children: [\n                                                \"从左侧选择一个已匹配的用户\",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                                    lineNumber: 643,\n                                                    columnNumber: 34\n                                                }, this),\n                                                \"开始你们的精彩对话\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                            lineNumber: 642,\n                                            columnNumber: 19\n                                        }, this),\n                                        matchedUsers.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: onClose,\n                                            className: \"mt-6 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium\",\n                                            children: \"去寻找匹配\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                            lineNumber: 647,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                    lineNumber: 635,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                                lineNumber: 634,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                            lineNumber: 506,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n                    lineNumber: 431,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n            lineNumber: 406,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/vincent/Desktop/social club web/components/ChatPanel.tsx\",\n        lineNumber: 405,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPanel, \"9yP0TTsYvm7NnwHh1Yrk7Qc8now=\");\n_c = ChatPanel;\nvar _c;\n$RefreshReg$(_c, \"ChatPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2hhdFBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRW1EO0FBQzJCO0FBNEIvRCxTQUFTTyxVQUFVLEtBQXlDO1FBQXpDLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxFQUFrQixHQUF6Qzs7SUFDaEMsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR1gsK0NBQVFBLENBQWM7SUFDOUQsTUFBTSxDQUFDWSxVQUFVQyxZQUFZLEdBQUdiLCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDYyxZQUFZQyxjQUFjLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ2dCLFNBQVNDLFdBQVcsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2tCLGVBQWVDLGlCQUFpQixHQUFHbkIsK0NBQVFBLENBQVM7SUFDM0QsTUFBTSxDQUFDb0IsZUFBZUMsaUJBQWlCLEdBQUdyQiwrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDc0IsZUFBZUMsaUJBQWlCLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNd0IsaUJBQWlCdEIsNkNBQU1BLENBQWlCO0lBRTlDLFdBQVc7SUFDWEQsZ0RBQVNBLENBQUM7UUFDUixNQUFNd0IsT0FBT0MsYUFBYUMsT0FBTyxDQUFDO1FBQ2xDLElBQUlGLE1BQU07Z0JBRVNHO1lBRGpCLE1BQU1BLFdBQVdDLEtBQUtDLEtBQUssQ0FBQ0w7WUFDNUJOLGlCQUFpQlMsRUFBQUEsZUFBQUEsU0FBU0csRUFBRSxjQUFYSCxtQ0FBQUEsYUFBYUksUUFBUSxPQUFNO1FBQzlDO0lBQ0YsR0FBRyxFQUFFO0lBRUwsMkJBQTJCO0lBQzNCLE1BQU1DLGVBQWUsZUFBT0M7WUFBZ0JDLGdGQUF3QjtRQUNsRSxJQUFJLENBQUNELFVBQVUsQ0FBQ2hCLGVBQWU7WUFDN0JrQixRQUFRQyxHQUFHLENBQUMsdUJBQXVCO2dCQUNqQ0MsV0FBVyxDQUFDLENBQUNKO2dC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TWhHLGNBQWNnRyxFQUFFMkMsTUFBTSxDQUFDRixLQUFLO3dEQUM3Q0csWUFBWTdDO3dEQUNaOEMsYUFBYSxLQUF1QixPQUFsQmxKLGFBQWErRSxJQUFJLEVBQUM7d0RBQ3BDa0MsV0FBVTt3REFDVnlCLFVBQVVwSTs7Ozs7O2tFQUVaLDhEQUFDMEg7d0RBQ0NDLFNBQVM5Qzt3REFDVHVELFVBQVVwSSxXQUFXLENBQUNGLFdBQVdnRixJQUFJO3dEQUNyQzZCLFdBQVU7a0VBRVQzRyxVQUFVLFdBQVc7Ozs7Ozs7Ozs7OzswREFHMUIsOERBQUMwRztnREFBSUMsV0FBVTswREFBeUM7Ozs7Ozs7Ozs7Ozs7NkRBTTVELDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FDYiw0RUFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDRDs0Q0FBSUMsV0FBVTtzREFDYiw0RUFBQ3ZILGdHQUFLQTtnREFBQ3VILFdBQVU7Z0RBQWVZLE1BQU07Ozs7Ozs7Ozs7O3NEQUV4Qyw4REFBQ0M7NENBQUdiLFdBQVU7c0RBQTJDOzs7Ozs7c0RBR3pELDhEQUFDYzs0Q0FBRWQsV0FBVTs7Z0RBQWdDOzhEQUM5Qiw4REFBQ29COzs7OztnREFBSTs7Ozs7Ozt3Q0FHbkJ2SSxhQUFhcUQsTUFBTSxLQUFLLG1CQUN2Qiw4REFBQzZFOzRDQUNDQyxTQUFTbEk7NENBQ1RrSCxXQUFVO3NEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZckI7R0F0bkJ3QnBIO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQ2hhdFBhbmVsLnRzeD9kM2VmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFgsIFNlbmQsIFNtaWxlLCBQYXBlcmNsaXAsIEhlYXJ0LCBDbG9jaywgTWFwUGluIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuXG5pbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGFnZTogbnVtYmVyXG4gIGxvY2F0aW9uOiBzdHJpbmdcbiAgYmlvOiBzdHJpbmdcbiAgaW50ZXJlc3RzOiBzdHJpbmdbXVxuICBwaG90b3M6IHN0cmluZ1tdXG4gIGlzT25saW5lOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZ1xuICBzZW5kZXJJZDogc3RyaW5nXG4gIHJlY2VpdmVySWQ6IHN0cmluZ1xuICBjb250ZW50OiBzdHJpbmdcbiAgdGltZXN0YW1wOiBEYXRlXG4gIHR5cGU6ICd0ZXh0JyB8ICdpbWFnZSdcbiAgaXNSZWFkOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBDaGF0UGFuZWxQcm9wcyB7XG4gIG1hdGNoZWRVc2VyczogVXNlcltdXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFBhbmVsKHsgbWF0Y2hlZFVzZXJzLCBvbkNsb3NlIH06IENoYXRQYW5lbFByb3BzKSB7XG4gIGNvbnN0IFtzZWxlY3RlZFVzZXIsIHNldFNlbGVjdGVkVXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbbmV3TWVzc2FnZSwgc2V0TmV3TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpXG4gIGNvbnN0IFtsYXN0TWVzc2FnZUlkLCBzZXRMYXN0TWVzc2FnZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtpc0luaXRpYWxMb2FkLCBzZXRJc0luaXRpYWxMb2FkXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuXG4gIC8vIOiOt+WPluW9k+WJjeeUqOaIt0lEXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJylcbiAgICBpZiAodXNlcikge1xuICAgICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKHVzZXIpXG4gICAgICBzZXRDdXJyZW50VXNlcklkKHVzZXJEYXRhLmlkPy50b1N0cmluZygpIHx8ICcnKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g5pS56L+b55qE5raI5oGv5Yqg6L295Ye95pWwIC0g5pm66IO95ZCI5bm277yM5L+d6K+B5pWw5o2u5LiA6Ie05oCnXG4gIGNvbnN0IGxvYWRNZXNzYWdlcyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgZm9yY2VSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIXVzZXJJZCB8fCAhY3VycmVudFVzZXJJZCkge1xuICAgICAgY29uc29sZS5sb2coJ+KdjCBb6IGK5aSp6Z2i5p2/XSDliqDovb3mtojmga/mnaHku7bkuI3mu6HotrM6Jywge1xuICAgICAgICBoYXNVc2VySWQ6ICEhdXNlcklkLFxuICAgICAgICBoYXNDdXJyZW50VXNlcklkOiAhIWN1cnJlbnRVc2VySWRcbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYPCfk6UgW+iBiuWkqemdouadv10g5byA5aeL5Yqg6L295LiO55So5oi3ICR7dXNlcklkfSDnmoTogYrlpKnorrDlvZUke2ZvcmNlUmVmcmVzaCA/ICcgKOW8uuWItuWIt+aWsCknIDogJyd9YClcbiAgICBcbiAgICAvLyDlj6rlnKjliJ3lp4vliqDovb3miJblvLrliLbliLfmlrDml7bmmL7npLpsb2FkaW5nXG4gICAgaWYgKGZvcmNlUmVmcmVzaCB8fCBpc0luaXRpYWxMb2FkKSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpXG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb6IGK5aSp6Z2i5p2/XSDmsqHmnInmib7liLB0b2tlbicpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhg8J+TpCBb6IGK5aSp6Z2i5p2/XSDlj5HpgIFBUEnor7fmsYLliLAgL2FwaS9tZXNzYWdlcy9jb252ZXJzYXRpb24/dXNlcklkPSR7dXNlcklkfWApXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvbWVzc2FnZXMvY29udmVyc2F0aW9uP3VzZXJJZD0ke3VzZXJJZH0mbGltaXQ9MTAwYCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZyhg8J+ToSBb6IGK5aSp6Z2i5p2/XSDojrflj5bogYrlpKnorrDlvZVBUEnlk43lupTnirbmgIE6YCwgcmVzcG9uc2Uuc3RhdHVzKVxuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TqCBb6IGK5aSp6Z2i5p2/XSDojrflj5bogYrlpKnorrDlvZVBUEnlk43lupTmlbDmja46YCwgZGF0YSlcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zdCBzZXJ2ZXJNZXNzYWdlczogTWVzc2FnZVtdID0gZGF0YS5tZXNzYWdlcy5tYXAoKG1zZzogYW55KSA9PiAoe1xuICAgICAgICAgICAgaWQ6IG1zZy5pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2VuZGVySWQ6IG1zZy5zZW5kZXJJZCxcbiAgICAgICAgICAgIHJlY2VpdmVySWQ6IG1zZy5yZWNlaXZlcklkLFxuICAgICAgICAgICAgY29udGVudDogbXNnLmNvbnRlbnQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKG1zZy50aW1lc3RhbXApLFxuICAgICAgICAgICAgdHlwZTogbXNnLm1lc3NhZ2VUeXBlIHx8ICd0ZXh0JyxcbiAgICAgICAgICAgIGlzUmVhZDogbXNnLmlzUmVhZCB8fCBmYWxzZVxuICAgICAgICAgIH0pKVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW+iBiuWkqemdouadv10g5oiQ5Yqf5Yqg6L29ICR7c2VydmVyTWVzc2FnZXMubGVuZ3RofSDmnaHogYrlpKnorrDlvZVgKVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChmb3JjZVJlZnJlc2ggfHwgaXNJbml0aWFsTG9hZCkge1xuICAgICAgICAgICAgLy8g5Yid5aeL5Yqg6L295oiW5by65Yi25Yi35paw77ya55u05o6l6K6+572u5pyN5Yqh5Zmo5pWw5o2uXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBb6IGK5aSp6Z2i5p2/XSDliJ3lp4vliqDovb0v5by65Yi25Yi35pawIC0g55u05o6l5L2/55So5pyN5Yqh5Zmo5pWw5o2uYClcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKHNlcnZlck1lc3NhZ2VzKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDorrDlvZXmnIDmlrDmtojmga9JRFxuICAgICAgICAgICAgaWYgKHNlcnZlck1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0TWVzc2FnZSA9IHNlcnZlck1lc3NhZ2VzW3NlcnZlck1lc3NhZ2VzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgIHNldExhc3RNZXNzYWdlSWQobGF0ZXN0TWVzc2FnZS5pZClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk50gW+iBiuWkqemdouadv10g6K6w5b2V5pyA5paw5raI5oGvSUQ6ICR7bGF0ZXN0TWVzc2FnZS5pZH1gKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRJc0luaXRpYWxMb2FkKGZhbHNlKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDlop7ph4/mm7TmlrDvvJrlj6rmt7vliqDmlrDmtojmga/vvIzkv53mjIHnjrDmnInmtojmga9cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFvogYrlpKnpnaLmnb9dIOWinumHj+abtOaWsCAtIOajgOafpeaWsOa2iOaBr2ApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOaJvuWHuuacjeWKoeWZqOacieS9huacrOWcsOayoeacieeahOaWsOa2iOaBr1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJZHMgPSBuZXcgU2V0KG1lc3NhZ2VzLm1hcChtc2cgPT4gbXNnLmlkKSlcbiAgICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gc2VydmVyTWVzc2FnZXMuZmlsdGVyKG1zZyA9PiAhZXhpc3RpbmdJZHMuaGFzKG1zZy5pZCkpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChuZXdNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn4aVIFvogYrlpKnpnaLmnb9dIOWPkeeOsCAke25ld01lc3NhZ2VzLmxlbmd0aH0g5p2h5paw5raI5oGvYClcbiAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgLy8g5ZCI5bm2546w5pyJ5raI5oGv5ZKM5paw5raI5oGv77yM5oyJ5pe26Ze05o6S5bqPXG4gICAgICAgICAgICAgICAgY29uc3QgYWxsTWVzc2FnZXMgPSBbLi4ucHJldiwgLi4ubmV3TWVzc2FnZXNdXG4gICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkTWVzc2FnZXMgPSBhbGxNZXNzYWdlcy5zb3J0KChhLCBiKSA9PiBcbiAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGEudGltZXN0YW1wKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLnRpbWVzdGFtcCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOWOu+mHje+8iOS7pemYsuS4h+S4gO+8iVxuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZU1lc3NhZ2VzID0gc29ydGVkTWVzc2FnZXMucmVkdWNlKChhY2MsIG1zZykgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFhY2MuZmluZChleGlzdGluZyA9PiBleGlzdGluZy5pZCA9PT0gbXNnLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICBhY2MucHVzaChtc2cpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgICAgICAgICAgfSwgW10gYXMgTWVzc2FnZVtdKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OdIFvogYrlpKnpnaLmnb9dIOWQiOW5tuWQjua2iOaBr+aAu+aVsDogJHt1bmlxdWVNZXNzYWdlcy5sZW5ndGh9YClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5pcXVlTWVzc2FnZXNcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIOabtOaWsOacgOaWsOa2iOaBr0lEXG4gICAgICAgICAgICAgIGNvbnN0IGxhdGVzdE5ldyA9IG5ld01lc3NhZ2VzW25ld01lc3NhZ2VzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgIHNldExhc3RNZXNzYWdlSWQobGF0ZXN0TmV3LmlkKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBb6IGK5aSp6Z2i5p2/XSDmsqHmnInmlrDmtojmga9gKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW+iBiuWkqemdouadv10g5Yqg6L296IGK5aSp6K6w5b2V5aSx6LSlOicsIGRhdGEuZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb6IGK5aSp6Z2i5p2/XSDliqDovb3ogYrlpKnorrDlvZXor7fmsYLlpLHotKXvvIznirbmgIE6JywgcmVzcG9uc2Uuc3RhdHVzKVxuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFvogYrlpKnpnaLmnb9dIOmUmeivr+ivpuaDhTonLCBlcnJvclRleHQpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb6IGK5aSp6Z2i5p2/XSDliqDovb3ogYrlpKnorrDlvZXlvILluLg6JywgZXJyb3IpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChmb3JjZVJlZnJlc2ggfHwgaXNJbml0aWFsTG9hZCkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOaUuei/m+eahOWunuaXtua2iOaBr+ajgOafpSAtIOabtOmikee5geS4lOaZuuiDvVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRVc2VyIHx8ICFjdXJyZW50VXNlcklkKSByZXR1cm5cblxuICAgIGNvbnN0IGNoZWNrRm9yTmV3TWVzc2FnZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpXG4gICAgICAgIGlmICghdG9rZW4pIHJldHVyblxuXG4gICAgICAgIC8vIOWFs+mUruS/ruWkje+8muWni+e7iOiOt+WPluWujOaVtOa2iOaBr+WOhuWPsu+8jOehruS/neaVsOaNruS4gOiHtOaAp1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL21lc3NhZ2VzL2NvbnZlcnNhdGlvbj91c2VySWQ9JHtzZWxlY3RlZFVzZXIuaWR9JmxpbWl0PTEwMGAsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJNZXNzYWdlcyA9IGRhdGEubWVzc2FnZXMgfHwgW11cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g5qOA5p+l5piv5ZCm5pyJ5q+U5pys5Zyw5pyA5paw5raI5oGv5pu05paw55qE5raI5oGvXG4gICAgICAgICAgICBpZiAoc2VydmVyTWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJMYXRlc3RNZXNzYWdlID0gc2VydmVyTWVzc2FnZXNbc2VydmVyTWVzc2FnZXMubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIOWmguaenOacjeWKoeWZqOacgOaWsOa2iOaBr0lE5LiO5pys5Zyw6K6w5b2V5LiN5ZCM77yM6K+05piO5pyJ5paw5raI5oGvXG4gICAgICAgICAgICAgIGlmIChsYXN0TWVzc2FnZUlkICE9PSBzZXJ2ZXJMYXRlc3RNZXNzYWdlLmlkLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+GlSBb6IGK5aSp6Z2i5p2/XSDmo4DmtYvliLDmlrDmtojmga/vvIzop6blj5Hlop7ph4/mm7TmlrBgKVxuICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRNZXNzYWdlcyhzZWxlY3RlZFVzZXIuaWQsIGZhbHNlKSAvLyDlop7ph4/mm7TmlrBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8g6Z2Z6buY5aSE55CG6ZSZ6K+v77yM6YG/5YWN5bmy5omw55So5oi3XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb6IGK5aSp6Z2i5p2/XSDmo4Dmn6XmlrDmtojmga/ml7blh7rplJk6JywgZXJyb3IpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g56uL5Y2z5qOA5p+l5LiA5qyhXG4gICAgY2hlY2tGb3JOZXdNZXNzYWdlcygpXG5cbiAgICAvLyDorr7nva7lrprml7bmo4Dmn6XvvIzmr48y56eS5qOA5p+l5LiA5qyhXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVja0Zvck5ld01lc3NhZ2VzLCAyMDAwKVxuXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXG4gIH0sIFtzZWxlY3RlZFVzZXIsIGN1cnJlbnRVc2VySWQsIGxhc3RNZXNzYWdlSWRdKVxuXG4gIC8vIOW9k+mAieaLqeeUqOaIt+aXtuWIneWni+WMluWKoOi9vVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZFVzZXIgJiYgY3VycmVudFVzZXJJZCkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQg6YCJ5oup55So5oi377yM5Yid5aeL5YyW5Yqg6L296IGK5aSp6K6w5b2VOicsIHNlbGVjdGVkVXNlci5uYW1lLCBzZWxlY3RlZFVzZXIuaWQpXG4gICAgICBzZXRJc0luaXRpYWxMb2FkKHRydWUpXG4gICAgICBzZXRNZXNzYWdlcyhbXSkgLy8g5riF56m65LmL5YmN55qE5raI5oGvXG4gICAgICBzZXRMYXN0TWVzc2FnZUlkKG51bGwpIC8vIOmHjee9ruacgOaWsOa2iOaBr0lEXG4gICAgICBsb2FkTWVzc2FnZXMoc2VsZWN0ZWRVc2VyLmlkLCB0cnVlKSAvLyDlvLrliLbliLfmlrBcbiAgICB9XG4gIH0sIFtzZWxlY3RlZFVzZXIsIGN1cnJlbnRVc2VySWRdKVxuXG4gIC8vIOiHquWKqOa7muWKqOWIsOW6lemDqFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pXG4gIH0sIFttZXNzYWdlc10pXG5cbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFuZXdNZXNzYWdlLnRyaW0oKSB8fCAhc2VsZWN0ZWRVc2VyIHx8ICFjdXJyZW50VXNlcklkIHx8IGxvYWRpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgW+iBiuWkqemdouadv10g5Y+R6YCB5raI5oGv5p2h5Lu25LiN5ruh6LazOicsIHtcbiAgICAgICAgaGFzTWVzc2FnZTogISFuZXdNZXNzYWdlLnRyaW0oKSxcbiAgICAgICAgaGFzU2VsZWN0ZWRVc2VyOiAhIXNlbGVjdGVkVXNlcixcbiAgICAgICAgaGFzQ3VycmVudFVzZXJJZDogISFjdXJyZW50VXNlcklkLFxuICAgICAgICBsb2FkaW5nXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZUNvbnRlbnQgPSBuZXdNZXNzYWdlLnRyaW0oKVxuICAgIGNvbnNvbGUubG9nKGDwn5KsIFvogYrlpKnpnaLmnb9dIOWHhuWkh+WPkemAgea2iOaBrzpgLCB7XG4gICAgICBmcm9tOiBjdXJyZW50VXNlcklkLFxuICAgICAgdG86IHNlbGVjdGVkVXNlci5pZCxcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50XG4gICAgfSlcblxuICAgIC8vIOeUn+aIkOS4tOaXtklE55So5LqO5LmQ6KeC5pu05pawXG4gICAgY29uc3QgdGVtcElkID0gYHRlbXBfJHtEYXRlLm5vdygpfWBcbiAgICBjb25zdCBvcHRpbWlzdGljTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgIGlkOiB0ZW1wSWQsXG4gICAgICBzZW5kZXJJZDogY3VycmVudFVzZXJJZCxcbiAgICAgIHJlY2VpdmVySWQ6IHNlbGVjdGVkVXNlci5pZCxcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgaXNSZWFkOiBmYWxzZVxuICAgIH1cblxuICAgIC8vIOS5kOinguabtOaWsO+8mueri+WNs+aYvuekuua2iOaBr1xuICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIG9wdGltaXN0aWNNZXNzYWdlXSlcbiAgICBzZXROZXdNZXNzYWdlKCcnKVxuICAgIHNldExvYWRpbmcodHJ1ZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpXG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb6IGK5aSp6Z2i5p2/XSDmsqHmnInmib7liLB0b2tlbicpXG4gICAgICAgIGFsZXJ0KCfor7fph43mlrDnmbvlvZUnKVxuICAgICAgICAvLyDlm57mu5rkuZDop4Lmm7TmlrBcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2LmZpbHRlcihtc2cgPT4gbXNnLmlkICE9PSB0ZW1wSWQpKVxuICAgICAgICBzZXROZXdNZXNzYWdlKG1lc3NhZ2VDb250ZW50KVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coYPCfk6QgW+iBiuWkqemdouadv10g5Y+R6YCBQVBJ6K+35rGC5YiwIC9hcGkvbWVzc2FnZXMvc2VuZGApXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbWVzc2FnZXMvc2VuZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJlY2VpdmVySWQ6IHBhcnNlSW50KHNlbGVjdGVkVXNlci5pZCksXG4gICAgICAgICAgbWVzc2FnZTogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgbWVzc2FnZVR5cGU6ICd0ZXh0J1xuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coYPCfk6EgW+iBiuWkqemdouadv10gQVBJ5ZON5bqU54q25oCBOmAsIHJlc3BvbnNlLnN0YXR1cylcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgY29uc29sZS5sb2coYPCfk6ggW+iBiuWkqemdouadv10gQVBJ5ZON5bqU5pWw5o2uOmAsIGRhdGEpXG4gICAgICAgIFxuICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgLy8g55So5pyN5Yqh5Zmo6L+U5Zue55qE55yf5a6e5raI5oGv5pu/5o2i5Li05pe25raI5oGvXG4gICAgICAgICAgY29uc3QgcmVhbE1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogZGF0YS5kYXRhLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZW5kZXJJZDogZGF0YS5kYXRhLnNlbmRlcklkLFxuICAgICAgICAgICAgcmVjZWl2ZXJJZDogZGF0YS5kYXRhLnJlY2VpdmVySWQsXG4gICAgICAgICAgICBjb250ZW50OiBkYXRhLmRhdGEuY29udGVudCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoZGF0YS5kYXRhLnRpbWVzdGFtcCksXG4gICAgICAgICAgICB0eXBlOiBkYXRhLmRhdGEubWVzc2FnZVR5cGUgfHwgJ3RleHQnLFxuICAgICAgICAgICAgaXNSZWFkOiBkYXRhLmRhdGEuaXNSZWFkXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW+iBiuWkqemdouadv10g5raI5oGv5Y+R6YCB5oiQ5Yqf77yM5pu/5o2i5Li05pe25raI5oGvOicsIHJlYWxNZXNzYWdlKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIOabv+aNouS4tOaXtua2iOaBr+S4uuecn+Wunua2iOaBr1xuICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgICAgbXNnLmlkID09PSB0ZW1wSWQgPyByZWFsTWVzc2FnZSA6IG1zZ1xuICAgICAgICAgICkpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8g5pu05paw5pyA5paw5raI5oGvSURcbiAgICAgICAgICBzZXRMYXN0TWVzc2FnZUlkKHJlYWxNZXNzYWdlLmlkKVxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OdIFvogYrlpKnpnaLmnb9dIOabtOaWsOacgOaWsOa2iOaBr0lEOiAke3JlYWxNZXNzYWdlLmlkfWApXG4gICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFvogYrlpKnpnaLmnb9dIOWPkemAgea2iOaBr+Wksei0pTonLCBkYXRhLmVycm9yKVxuICAgICAgICAgIGFsZXJ0KCflj5HpgIHmtojmga/lpLHotKU6ICcgKyBkYXRhLmVycm9yKVxuICAgICAgICAgIC8vIOWbnua7muS5kOinguabtOaWsFxuICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5maWx0ZXIobXNnID0+IG1zZy5pZCAhPT0gdGVtcElkKSlcbiAgICAgICAgICBzZXROZXdNZXNzYWdlKG1lc3NhZ2VDb250ZW50KVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW+iBiuWkqemdouadv10g5Y+R6YCB5raI5oGv6K+35rGC5aSx6LSl77yM54q25oCBOicsIHJlc3BvbnNlLnN0YXR1cylcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb6IGK5aSp6Z2i5p2/XSDplJnor6/or6bmg4U6JywgZXJyb3JUZXh0KVxuICAgICAgICBhbGVydCgn5Y+R6YCB5raI5oGv5aSx6LSl77yM6K+36YeN6K+VJylcbiAgICAgICAgLy8g5Zue5rua5LmQ6KeC5pu05pawXG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5maWx0ZXIobXNnID0+IG1zZy5pZCAhPT0gdGVtcElkKSlcbiAgICAgICAgc2V0TmV3TWVzc2FnZShtZXNzYWdlQ29udGVudClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFvogYrlpKnpnaLmnb9dIOWPkemAgea2iOaBr+W8guW4uDonLCBlcnJvcilcbiAgICAgIGFsZXJ0KCfnvZHnu5zplJnor6/vvIzor7fph43or5UnKVxuICAgICAgLy8g5Zue5rua5LmQ6KeC5pu05pawXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG1zZyA9PiBtc2cuaWQgIT09IHRlbXBJZCkpXG4gICAgICBzZXROZXdNZXNzYWdlKG1lc3NhZ2VDb250ZW50KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUtleVByZXNzID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgaGFuZGxlU2VuZE1lc3NhZ2UoKVxuICAgIH1cbiAgfVxuXG4gIC8vIOaJi+WKqOWIt+aWsOWHveaVsCAtIOW8uuWItumHjeaWsOWKoOi9veaJgOaciea2iOaBr1xuICBjb25zdCBoYW5kbGVNYW51YWxSZWZyZXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRVc2VyKSByZXR1cm5cbiAgICBjb25zb2xlLmxvZygn8J+UhCBb6IGK5aSp6Z2i5p2/XSDmiYvliqjlvLrliLbliLfmlrAnKVxuICAgIGF3YWl0IGxvYWRNZXNzYWdlcyhzZWxlY3RlZFVzZXIuaWQsIHRydWUpXG4gIH1cblxuICAvLyDmoLzlvI/ljJbml7bpl7TmmL7npLpcbiAgY29uc3QgZm9ybWF0VGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSlcbiAgfVxuXG4gIC8vIOW3suivu+eKtuaAgeaMh+ekuuWZqOe7hOS7tlxuICBjb25zdCBSZWFkU3RhdHVzSW5kaWNhdG9yID0gKHsgaXNSZWFkIH06IHsgaXNSZWFkOiBib29sZWFuIH0pID0+IHtcbiAgICBpZiAoaXNSZWFkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCIgdGl0bGU9XCLlt7Lor7tcIj5cbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMTYgMTJcIiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtMzAwXCI+XG4gICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICBkPVwiTTE1LjAzIDEuNDdhLjc1Ljc1IDAgMDEwIDEuMDZsLTkgOWEuNzUuNzUgMCAwMS0xLjA2IDBsLTQtNGEuNzUuNzUgMCAwMTEuMDYtMS4wNkw1LjUgOS45NCAxMy45NyAxLjQ3YS43NS43NSAwIDAxMS4wNiAwelwiXG4gICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGQ9XCJNMTIuMDMgMS40N2EuNzUuNzUgMCAwMTAgMS4wNmwtNiA2YS43NS43NSAwIDAxLTEuMDYgMGwtMS0xYS43NS43NSAwIDAxMS4wNi0xLjA2TDYuNSA3Ljk0IDEwLjk3IDMuNDdhLjc1Ljc1IDAgMDExLjA2IDB6XCJcbiAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgIG9wYWNpdHk9XCIwLjZcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIiB0aXRsZT1cIuW3suWPkemAgVwiPlxuICAgICAgICAgIDxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjlcIiB2aWV3Qm94PVwiMCAwIDEyIDlcIiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICBkPVwiTTExLjAzIDEuNDdhLjc1Ljc1IDAgMDEwIDEuMDZsLTYgNmEuNzUuNzUgMCAwMS0xLjA2IDBsLTMtM2EuNzUuNzUgMCAwMTEuMDYtMS4wNkw0LjUgNi45NCA5Ljk3IDEuNDdhLjc1Ljc1IDAgMDExLjA2IDB6XCJcbiAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBjb25zdCBmb3JtYXRMYXN0U2VlbiA9ICh1c2VyOiBVc2VyKSA9PiB7XG4gICAgaWYgKHVzZXIuaXNPbmxpbmUpIHJldHVybiAn5Zyo57q/J1xuICAgIHJldHVybiAn56a757q/J1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3ctMnhsIHctZnVsbCBtYXgtdy01eGwgaC1bODV2aF0gZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICB7Lyog5aS06YOoICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTYgYm9yZGVyLWIgYmctZ3JhZGllbnQtdG8tciBmcm9tLXJlZC01MCB0by1waW5rLTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIGJnLXJlZC0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxIZWFydCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDBcIiBzaXplPXsyMH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj7miJHnmoTljLnphY08L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICB7bWF0Y2hlZFVzZXJzLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICAgICAgICA/IGAke21hdGNoZWRVc2Vycy5sZW5ndGh9IOS4quW3sumFjeWvueeahOeUqOaIt+etieW+heiBiuWkqWBcbiAgICAgICAgICAgICAgICAgIDogJ+i/mOayoeacieWMuemFje+8jOWOu+WPkeeOsOabtOWkmueUqOaIt+WQp++8gSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ncmF5LTEwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwiaC02IHctNlwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgey8qIOeUqOaIt+WIl+ihqCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOTYgYm9yZGVyLXIgYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj7lt7LphY3lr7nnlKjmiLc8L2g0PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBiZy1yZWQtMTAwIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgIHttYXRjaGVkVXNlcnMubGVuZ3RofVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7bWF0Y2hlZFVzZXJzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPEhlYXJ0IGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIiBzaXplPXsyNH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMlwiPuaaguaXoOWMuemFjTwvaDU+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIOi/mOayoeacieaJvuWIsOWMuemFjeeahOeUqOaItzxici8+XG4gICAgICAgICAgICAgICAgICAgIOe7p+e7rea1j+iniOeUqOaIt+adpeWvu+aJvjxici8+XG4gICAgICAgICAgICAgICAgICAgIOS9oOeahOWujOe+juWMuemFjeWQp++8gVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICB7bWF0Y2hlZFVzZXJzLm1hcCgodXNlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVXNlcih1c2VyKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTQgcm91bmRlZC14bCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVXNlcj8uaWQgPT09IHVzZXIuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTEwMCBib3JkZXItMiBib3JkZXItcmVkLTIwMCBzaGFkb3ctbWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIGhvdmVyOmJnLXJlZC01MCBib3JkZXItMiBib3JkZXItdHJhbnNwYXJlbnQgc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1tZCdcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcmVkLTIwMCB0by1waW5rLTIwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgZm9udC1zZW1pYm9sZCB0ZXh0LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5uYW1lLmNoYXJBdCgwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5pc09ubGluZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtYm90dG9tLTEgLXJpZ2h0LTEgdy00IGgtNCBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIHRydW5jYXRlXCI+e3VzZXIubmFtZX08L2g1PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPuKAojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj57dXNlci5hZ2V95bKBPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgdGV4dC1zbSB0ZXh0LWdyYXktNTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWFwUGluIHNpemU9ezEyfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+e3VzZXIubG9jYXRpb259PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9jayBzaXplPXsxMH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3VzZXIuaXNPbmxpbmUgPyAndGV4dC1ncmVlbi02MDAgZm9udC1tZWRpdW0nIDogJ3RleHQtZ3JheS01MDAnfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRMYXN0U2Vlbih1c2VyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLXJlZC00MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIOiBiuWkqeWMuuWfnyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICB7c2VsZWN0ZWRVc2VyID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHsvKiDogYrlpKnlpLTpg6ggKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJvcmRlci1iIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCBiZy1yZWQtNTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRVc2VyLm5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPntzZWxlY3RlZFVzZXIubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVXNlci5hZ2V95bKBIOKAoiB7c2VsZWN0ZWRVc2VyLmxvY2F0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVXNlci5pc09ubGluZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1ncmVlbi01MDBcIj7igKIg5Zyo57q/PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVNYW51YWxSZWZyZXNofVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXNtIGJnLWJsdWUtMTAwIGhvdmVyOmJnLWJsdWUtMjAwIGRpc2FibGVkOm9wYWNpdHktNTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCLlvLrliLbliLfmlrDmtojmga9cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2xvYWRpbmcgPyAn5Yi35paw5LitLi4uJyA6ICfwn5SEIOWIt+aWsCd9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHRleHQtc20gcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIOW3suWMuemFjVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIOKclVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIOa2iOaBr+WIl+ihqCAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC00IHNwYWNlLXktNCBiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICB7bG9hZGluZyAmJiBtZXNzYWdlcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci1iLTIgYm9yZGVyLXJlZC01MDAgbXgtYXV0byBtYi0yXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1zbVwiPuWKoOi9veiBiuWkqeiusOW9leS4rS4uLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgJiYgIWxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYmctcmVkLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXgtYXV0byBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCIgc2l6ZT17MjR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMlwiPuW8gOWni+WvueivnTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICDkvaDku6zlt7Lnu4/ljLnphY3miJDlip/kuobvvIE8YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAg5Y+R6YCB56ys5LiA5p2h5raI5oGv5p2l5omT56C05rKJ6buY5ZCnXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGtleT17bWVzc2FnZS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlbmRlcklkID09PSBjdXJyZW50VXNlcklkID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXcteHMgbGc6bWF4LXctbWQgcHgtNCBweS0zIHJvdW5kZWQtMnhsIHNoYWRvdy1zbSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlbmRlcklkID09PSBjdXJyZW50VXNlcklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTUwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIHRleHQtZ3JheS05MDAgYm9yZGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkLnN0YXJ0c1dpdGgoJ3RlbXBfJykgPyAnb3BhY2l0eS03MCcgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIj57bWVzc2FnZS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG10LTIgdGV4dC14cyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlbmRlcklkID09PSBjdXJyZW50VXNlcklkIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtcmVkLTEwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1ncmF5LTUwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdFRpbWUobWVzc2FnZS50aW1lc3RhbXApfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2Uuc2VuZGVySWQgPT09IGN1cnJlbnRVc2VySWQgJiYgIW1lc3NhZ2UuaWQuc3RhcnRzV2l0aCgndGVtcF8nKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtbC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhZFN0YXR1c0luZGljYXRvciBpc1JlYWQ9e21lc3NhZ2UuaXNSZWFkfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5pZC5zdGFydHNXaXRoKCd0ZW1wXycpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNjBcIj7lj5HpgIHkuK0uLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiDmtojmga/ovpPlhaXljLrln58gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3TWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzcz17aGFuZGxlS2V5UHJlc3N9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2Dnu5kgJHtzZWxlY3RlZFVzZXIubmFtZX0g5Y+R6YCB5raI5oGvLi4uYH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcmVkLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZyB8fCAhbmV3TWVzc2FnZS50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0yIGJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLXJlZC02MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2xvYWRpbmcgPyAn5Y+R6YCB5LitLi4uJyA6ICflj5HpgIEnfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICDmjIkgRW50ZXIg5Y+R6YCBIOKAoiDoh6rliqjmo4Dmn6XmlrDmtojmga/mr48y56eSIOKAoiDkvJjljJblrp7ml7blkIzmraVcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktNTBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjAgaC0yMCBiZy1yZWQtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPEhlYXJ0IGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiIHNpemU9ezMyfSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICDpgInmi6nogYrlpKnlr7nosaFcbiAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICDku47lt6bkvqfpgInmi6nkuIDkuKrlt7LljLnphY3nmoTnlKjmiLc8YnIvPlxuICAgICAgICAgICAgICAgICAgICDlvIDlp4vkvaDku6znmoTnsr7lvanlr7nor51cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIHttYXRjaGVkVXNlcnMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtNiBweC02IHB5LTMgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctcmVkLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICDljrvlr7vmib7ljLnphY1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiWCIsIkhlYXJ0IiwiQ2xvY2siLCJNYXBQaW4iLCJDaGF0UGFuZWwiLCJtYXRjaGVkVXNlcnMiLCJvbkNsb3NlIiwic2VsZWN0ZWRVc2VyIiwic2V0U2VsZWN0ZWRVc2VyIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsIm5ld01lc3NhZ2UiLCJzZXROZXdNZXNzYWdlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImxhc3RNZXNzYWdlSWQiLCJzZXRMYXN0TWVzc2FnZUlkIiwiaXNJbml0aWFsTG9hZCIsInNldElzSW5pdGlhbExvYWQiLCJtZXNzYWdlc0VuZFJlZiIsInVzZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXNlckRhdGEiLCJKU09OIiwicGFyc2UiLCJpZCIsInRvU3RyaW5nIiwibG9hZE1lc3NhZ2VzIiwidXNlcklkIiwiZm9yY2VSZWZyZXNoIiwiY29uc29sZSIsImxvZyIsImhhc1VzZXJJZCIsImhhc0N1cnJlbnRVc2VySWQiLCJ0b2tlbiIsImVycm9yIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJzdGF0dXMiLCJvayIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsInNlcnZlck1lc3NhZ2VzIiwibWFwIiwibXNnIiwic2VuZGVySWQiLCJyZWNlaXZlcklkIiwiY29udGVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0eXBlIiwibWVzc2FnZVR5cGUiLCJpc1JlYWQiLCJsZW5ndGgiLCJsYXRlc3RNZXNzYWdlIiwiZXhpc3RpbmdJZHMiLCJTZXQiLCJuZXdNZXNzYWdlcyIsImZpbHRlciIsImhhcyIsInByZXYiLCJhbGxNZXNzYWdlcyIsInNvcnRlZE1lc3NhZ2VzIiwic29ydCIsImEiLCJiIiwiZ2V0VGltZSIsInVuaXF1ZU1lc3NhZ2VzIiwicmVkdWNlIiwiYWNjIiwiZmluZCIsImV4aXN0aW5nIiwicHVzaCIsImxhdGVzdE5ldyIsImVycm9yVGV4dCIsInRleHQiLCJjaGVja0Zvck5ld01lc3NhZ2VzIiwic2VydmVyTGF0ZXN0TWVzc2FnZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwibmFtZSIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJ0cmltIiwiaGFzTWVzc2FnZSIsImhhc1NlbGVjdGVkVXNlciIsIm1lc3NhZ2VDb250ZW50IiwiZnJvbSIsInRvIiwidGVtcElkIiwibm93Iiwib3B0aW1pc3RpY01lc3NhZ2UiLCJhbGVydCIsIm1ldGhvZCIsImJvZHkiLCJzdHJpbmdpZnkiLCJwYXJzZUludCIsIm1lc3NhZ2UiLCJyZWFsTWVzc2FnZSIsImhhbmRsZUtleVByZXNzIiwiZSIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVNYW51YWxSZWZyZXNoIiwiZm9ybWF0VGltZSIsImRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiUmVhZFN0YXR1c0luZGljYXRvciIsImRpdiIsImNsYXNzTmFtZSIsInRpdGxlIiwic3ZnIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwicGF0aCIsImQiLCJmaWxsIiwib3BhY2l0eSIsImZvcm1hdExhc3RTZWVuIiwiaXNPbmxpbmUiLCJzaXplIiwiaDMiLCJwIiwiYnV0dG9uIiwib25DbGljayIsImg0Iiwic3BhbiIsImg1IiwiYnIiLCJjaGFyQXQiLCJhZ2UiLCJsb2NhdGlvbiIsInRvVXBwZXJDYXNlIiwiZGlzYWJsZWQiLCJzdGFydHNXaXRoIiwicmVmIiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlQcmVzcyIsInBsYWNlaG9sZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ChatPanel.tsx\n"));

/***/ })

});